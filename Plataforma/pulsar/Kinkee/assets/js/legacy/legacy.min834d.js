!function(a,b){"use strict";a.getBaseUrl=function(c){var d=a.location.protocol+"//"+a.location.host+"/",e=a.location.pathname.split("/"),f=d,g=[];return b.each(e,function(b,c){a.trim(c)&&g.push(c)}),b.each(g,function(a,d){null!==d.match(/^(Kinkee_v12|accounts|chat|Kinkeex|revista)$/)&&b.inArray(d,c)===-1&&(f+=d+"/")}),f},a.trim=function(a){return b.trim(a)},a.set_position_message=function(a,c){c.hide(),a||b(".messages").length?(a||(a=b(".messages")),a.css("float","left").css("width","100%"),c.appendTo(a),c.css("position","relative").css("margin-top","10px").css("margin-bottom","10px").css("left","auto").css("margin-left","0px").css("width","100%")):(c.appendTo(b("body")),c.css({position:"fixed","margin-top":80,left:"50%","margin-left":-230,width:460}))}}(window,window.jQuery),function(a,b){"use strict";a.getBaseUrl=function(c){var d=a.location.protocol+"//"+a.location.host+"/",e=a.location.pathname.split("/"),f=d,g=[];return b.each(e,function(b,c){a.trim(c)&&g.push(c)}),b.each(g,function(a,d){null!==d.match(/^(Kinkee_v12|accounts|chat|Kinkeex|revista)$/)&&b.inArray(d,c)===-1&&(f+=d+"/")}),f},a.trim=function(a){return b.trim(a)},a.set_position_message=function(a,c){c.hide(),a||b(".messages").length?(a||(a=b(".messages")),a.css("float","left").css("width","100%"),c.appendTo(a),c.css("position","relative").css("margin-top","10px").css("margin-bottom","10px").css("left","auto").css("margin-left","0px").css("width","100%")):(c.appendTo(b("body")),c.css({position:"fixed","margin-top":80,left:"50%","margin-left":-230,width:460}))}}(window,window.jQuery),function(a,b){"use strict";function c(a){if(a)return JSON.parse(a.replace(/\(/gi,"").replace(/\)/gi,""))}var d,e,f=a.getBaseUrl,g={base_url:f(),base_url_Kinkee:f(["accounts","chat"]),base_url_account:f()+"accounts/",base_url_account_ext:""};d=c(b("#jsLangs").val()),e=c(b("#jsLangsToolbar").val()),g.lang={_terms:[],_termsToolbar:[],line:function(a){return!g.lang._terms.length&&d&&(g.lang._terms=d),!g.lang._terms.length&&e&&(g.lang._terms=e),g.lang._terms[a]||g.lang._termsToolbar[a]||""},add:function(a){if(a.val()){var d=a.val();a.remove(),g.lang._terms=b.extend(g.lang._terms,c(d))}}},g.dialog={alert:function(a,c,d,e){var f,g="";b.isPlainObject(a)&&(g=a.title?a.title:g,e=a.callback?a.callback:e,c=a.width?a.width:c,d=a.height?a.height:d,a=a.txt?a.txt:a),c=c||340,d=d||"auto",b("#libDialog").length?(f=b("#libDialog"),f.find(".centerForm").css("height",d-56).find(".question").html(a)):(f='<div id="libDialog">                                 <div class="topForm" style="display:none"></div>                                 <div class="centerForm" style="height: '+(d-56)+'px">                                    <h2 class="question">'+a+'</h2>                                 </div>                                 <div class="btnsForm">                                    <div id="btnOk" class="btn big">                                            <span>OK</span>                                    </div>                                 </div>                            </div>',b(f).appendTo("body"),f=b("#libDialog"),f.find("#btnOk").click(function(){b("#libDialog").dialog("close")}),f.dialog({autoOpen:!1,height:d,width:c,modal:!0,resizable:!1,create:function(){b(this).siblings(".ui-dialog-titlebar").hide()},close:function(){b.isFunction(e)&&e.apply()}})),g?f.addClass("newModal").find(".topForm").show().text(g):f.removeClass("newModal").find(".topForm").hide(),f.dialog("open")},confirm:function(a,c,d,e){var f=b("#libConfirm"),h="",i=g.lang.line("yes"),j=g.lang.line("no"),k="";if("object"==typeof a&&(h=a.title?a.title:h,i=a.txtYes?a.txtYes:i,j=a.txtNo?a.txtNo:j,c=a.callback?a.callback:c,k=a.callbackCancel?a.callbackCancel:k,d=a.width?a.width:d,e=a.height?a.height:e,a=a.txt?a.txt:a),d=d||340,e=e||"auto",f.length)b("#libConfirm").dialog({height:e,width:d}).find(".centerForm").css("height",e-56).end().find(".question").html(a).end().find("#btnNo").unbind("click").click(function(a){"function"==typeof k&&k(a),b("#libConfirm").dialog("close")}).end().find("#btnYes").unbind("click").click(function(a){"function"==typeof c&&c(a),b("#libConfirm").dialog("close")});else{var l='<div id="libConfirm">                                 <div class="topForm" style="display:none"></div>                                 <div class="centerForm">                                    <h2 class="question">'+a+'</h2>                                 </div>                                 <div class="btnsForm">                                    <button id="btnYes" class="btn" tabindex="1"><span></span></button>                                    <button id="btnNo" class="btn dfl" tabindex="2"><span></span></button>                                 </div>                           </div>';b(l).appendTo("body"),f=b("#libConfirm"),f.find("#btnNo").click(function(a){b("#libConfirm").dialog("close"),b.isFunction(k)&&k(a)}),f.find("#btnYes").click(function(a){b("#libConfirm").dialog("close"),b.isFunction(c)&&c(a)}),f.dialog({autoOpen:!1,height:e,width:d,modal:!0,resizable:!1,create:function(){b(this).siblings(".ui-dialog-titlebar").hide()}})}h?f.addClass("newModal").find(".topForm").show().text(h):f.removeClass("newModal").find(".topForm").hide(),f.find("#btnYes span").text(i),f.find("#btnNo span").text(j),f.dialog("open")}},g.message={hideMessages:function(){b(".message_wait").hide(),b(".message").hide()},showMessage:function(a,b,c){this._show_message(a,b,c)},showErrorMessage:function(a,b,c){this._show_error_message(a,b,c)},showSuccessMessage:function(a,b,c){this._show_sucess_message(a,b,c)},showWaitMessage:function(a,b){this._show_wait_message(a,b)},_show_wait_message:function(a,c){b(".message_error").data("timeout")&&clearTimeout(b(".message_error").data("timeout")),b(".message_sucess").data("timeout")&&clearTimeout(b(".message_sucess").data("timeout")),b(".message_info").data("timeout")&&clearTimeout(b(".message_info").data("timeout")),a=a||g.lang.line("wait"),b(".message_wait .mtext h2").html(a),b(".message_wait").css("display","table"),c&&setTimeout(function(){b(".message_wait").fadeOut()},3e3)},_load_message:function(c,d){b(".message_wait").fadeOut(),b(".message").length>0?(a.set_position_message(c,b(".message")),d()):(b(".message_wait").remove(),b(".message").remove(),b.ajax({type:"GET",url:g.base_url_account+"toolbar/renew_messages",success:function(e){b("body").append(e),a.set_position_message(c,b(".message")),d()}}))},_show_error_message:function(a,c,d){this._load_message(d,function(){b.isPlainObject(a)&&a.title&&a.text?(b(".message_error .mtext h2").html(a.title),b(".message_error .mtext p").css("display","table"),b(".message_error .mtext p").html(a.text)):(b(".message_error .mtext h2").html(a),b(".message_error .mtext p").css("display","none")),b(".message_error").css("display","table"),d?(b(d).click(function(){b(this).fadeOut()}),d.show()):b(".message_error").click(function(){b(this).fadeOut()}),c&&b(".message_error").data("timeout",setTimeout(function(){b(".message_error").fadeOut()},3e3))})},_show_sucess_message:function(a,c,d){this._load_message(d,function(){b.isPlainObject(a)&&a.title&&a.text?(b(".message_sucess .mtext h2").html(a.title),b(".message_sucess .mtext p").css("display","table"),b(".message_sucess .mtext p").html(a.text)):(b(".message_sucess .mtext h2").html(a),b(".message_sucess .mtext p").css("display","none")),b(".message_sucess").css("display","table"),d?(b(d).click(function(){b(this).fadeOut()}),d.show()):b(".message_sucess").click(function(){b(this).fadeOut()}),c&&b(".message_sucess").data("timeout",setTimeout(function(){b(".message_sucess").fadeOut()},3e3))})},_show_message:function(a,c,d){this._load_message(d,function(){b.isPlainObject(a)&&a.title&&a.text?(b(".message_info .mtext h2").html(a.title),b(".message_info .mtext p").css("display","table"),b(".message_info .mtext p").html(a.text)):(b(".message_info .mtext h2").html(a),b(".message_info .mtext p").css("display","none")),b(".message_info").css("display","table"),d?(b(d).click(function(){b(this).fadeOut()}),d.show()):b(".message_info").click(function(){b(this).fadeOut()}),c&&b(".message_info").data("timeout",setTimeout(function(){b(".message_info").fadeOut()},3e3))})}},a.lib=g}(window,window.jQuery,document),function(a,b){"use strict";function c(a){if(a)return JSON.parse(a.replace(/\(/gi,"").replace(/\)/gi,""))}var d,e,f=a.getBaseUrl,g={base_url:f(),base_url_Kinkee:f(["accounts","chat"]),base_url_account:f()+"accounts/",base_url_account_ext:""};d=c(b("#jsLangs").val()),e=c(b("#jsLangsToolbar").val()),g.lang={_terms:[],_termsToolbar:[],line:function(a){return!g.lang._terms.length&&d&&(g.lang._terms=d),!g.lang._terms.length&&e&&(g.lang._terms=e),g.lang._terms[a]||g.lang._termsToolbar[a]||""},add:function(a){if(a.val()){var d=a.val();a.remove(),g.lang._terms=b.extend(g.lang._terms,c(d))}}},g.dialog={alert:function(a,c,d,e){var f,g="";b.isPlainObject(a)&&(g=a.title?a.title:g,e=a.callback?a.callback:e,c=a.width?a.width:c,d=a.height?a.height:d,a=a.txt?a.txt:a),c=c||340,d=d||"auto",b("#libDialog").length?(f=b("#libDialog"),f.find(".centerForm").css("height",d-56).find(".question").html(a)):(f='<div id="libDialog">                                 <div class="topForm" style="display:none"></div>                                 <div class="centerForm" style="height: '+(d-56)+'px">                                    <h2 class="question">'+a+'</h2>                                 </div>                                 <div class="btnsForm">                                    <div id="btnOk" class="btn big">                                            <span>OK</span>                                    </div>                                 </div>                            </div>',b(f).appendTo("body"),f=b("#libDialog"),f.find("#btnOk").click(function(){b("#libDialog").dialog("close")}),f.dialog({autoOpen:!1,height:d,width:c,modal:!0,resizable:!1,create:function(){b(this).siblings(".ui-dialog-titlebar").hide()},close:function(){b.isFunction(e)&&e.apply()}})),g?f.addClass("newModal").find(".topForm").show().text(g):f.removeClass("newModal").find(".topForm").hide(),f.dialog("open")},confirm:function(a,c,d,e){var f=b("#libConfirm"),h="",i=g.lang.line("yes"),j=g.lang.line("no"),k="";if("object"==typeof a&&(h=a.title?a.title:h,i=a.txtYes?a.txtYes:i,j=a.txtNo?a.txtNo:j,c=a.callback?a.callback:c,k=a.callbackCancel?a.callbackCancel:k,d=a.width?a.width:d,e=a.height?a.height:e,a=a.txt?a.txt:a),d=d||340,e=e||"auto",f.length)b("#libConfirm").dialog({height:e,width:d}).find(".centerForm").css("height",e-56).end().find(".question").html(a).end().find("#btnNo").unbind("click").click(function(a){"function"==typeof k&&k(a),b("#libConfirm").dialog("close")}).end().find("#btnYes").unbind("click").click(function(a){"function"==typeof c&&c(a),b("#libConfirm").dialog("close")});else{var l='<div id="libConfirm">                                 <div class="topForm" style="display:none"></div>                                 <div class="centerForm">                                    <h2 class="question">'+a+'</h2>                                 </div>                                 <div class="btnsForm">                                    <button id="btnYes" class="btn" tabindex="1"><span></span></button>                                    <button id="btnNo" class="btn dfl" tabindex="2"><span></span></button>                                 </div>                           </div>';b(l).appendTo("body"),f=b("#libConfirm"),f.find("#btnNo").click(function(a){b("#libConfirm").dialog("close"),b.isFunction(k)&&k(a)}),f.find("#btnYes").click(function(a){b("#libConfirm").dialog("close"),b.isFunction(c)&&c(a)}),f.dialog({autoOpen:!1,height:e,width:d,modal:!0,resizable:!1,create:function(){b(this).siblings(".ui-dialog-titlebar").hide()}})}h?f.addClass("newModal").find(".topForm").show().text(h):f.removeClass("newModal").find(".topForm").hide(),f.find("#btnYes span").text(i),f.find("#btnNo span").text(j),f.dialog("open")}},g.message={hideMessages:function(){b(".message_wait").hide(),b(".message").hide()},showMessage:function(a,b,c){this._show_message(a,b,c)},showErrorMessage:function(a,b,c){this._show_error_message(a,b,c)},showSuccessMessage:function(a,b,c){this._show_sucess_message(a,b,c)},showWaitMessage:function(a,b){this._show_wait_message(a,b)},_show_wait_message:function(a,c){b(".message_error").data("timeout")&&clearTimeout(b(".message_error").data("timeout")),b(".message_sucess").data("timeout")&&clearTimeout(b(".message_sucess").data("timeout")),b(".message_info").data("timeout")&&clearTimeout(b(".message_info").data("timeout")),a=a||g.lang.line("wait"),b(".message_wait .mtext h2").html(a),b(".message_wait").css("display","table"),c&&setTimeout(function(){b(".message_wait").fadeOut()},3e3)},_load_message:function(c,d){b(".message_wait").fadeOut(),b(".message").length>0?(a.set_position_message(c,b(".message")),d()):(b(".message_wait").remove(),b(".message").remove(),b.ajax({type:"GET",url:g.base_url_account+"toolbar/renew_messages",success:function(e){b("body").append(e),a.set_position_message(c,b(".message")),d()}}))},_show_error_message:function(a,c,d){this._load_message(d,function(){b.isPlainObject(a)&&a.title&&a.text?(b(".message_error .mtext h2").html(a.title),b(".message_error .mtext p").css("display","table"),b(".message_error .mtext p").html(a.text)):(b(".message_error .mtext h2").html(a),b(".message_error .mtext p").css("display","none")),b(".message_error").css("display","table"),d?(b(d).click(function(){b(this).fadeOut()}),d.show()):b(".message_error").click(function(){b(this).fadeOut()}),c&&b(".message_error").data("timeout",setTimeout(function(){b(".message_error").fadeOut()},3e3))})},_show_sucess_message:function(a,c,d){this._load_message(d,function(){b.isPlainObject(a)&&a.title&&a.text?(b(".message_sucess .mtext h2").html(a.title),b(".message_sucess .mtext p").css("display","table"),b(".message_sucess .mtext p").html(a.text)):(b(".message_sucess .mtext h2").html(a),b(".message_sucess .mtext p").css("display","none")),b(".message_sucess").css("display","table"),d?(b(d).click(function(){b(this).fadeOut()}),d.show()):b(".message_sucess").click(function(){b(this).fadeOut()}),c&&b(".message_sucess").data("timeout",setTimeout(function(){b(".message_sucess").fadeOut()},3e3))})},_show_message:function(a,c,d){this._load_message(d,function(){b.isPlainObject(a)&&a.title&&a.text?(b(".message_info .mtext h2").html(a.title),b(".message_info .mtext p").css("display","table"),b(".message_info .mtext p").html(a.text)):(b(".message_info .mtext h2").html(a),b(".message_info .mtext p").css("display","none")),b(".message_info").css("display","table"),d?(b(d).click(function(){b(this).fadeOut()}),d.show()):b(".message_info").click(function(){b(this).fadeOut()}),c&&b(".message_info").data("timeout",setTimeout(function(){b(".message_info").fadeOut()},3e3))})}},a.lib=g}(window,window.jQuery,document);
