@using Plataforma.Models
@model SharedViewModel

@{
    Layout = "~/Views/Shared/_LayoutModal.cshtml";
}

<div class="modal-backdrop in " ng-style="{'z-index': 1040 + (index &amp;&amp; 1 || 0) + index*10}" modal-backdrop="" style="z-index: 1040;"></div>

<div tabindex="-1" role="dialog" class="modal ng-isolate-scope sl-modal signup" ng-style="{'z-index': 1050 + index*10, display: 'block'}" modal-window="" window-class="sl-modal signup" index="0" style="z-index: 1050; display: block;">


    <div class="modal-dialog">
        <div class="modal-content" modal-transclude="">
            <div class="modal-header ng-scope">

                <button type="button" class="sl-close">×</button>

                <h4 class="modal-title large primary">
                    <span class="ng-scope">Acesse sua conta</span>
                </h4>
            </div>

            <div class="modal-body ng-scope">

                <!-- Login -->
                <div class="text-center">

                    <!-- Erros -->
                    <!-- ngIf: loginValidationMessage -->

                    @using (Html.BeginForm("Login", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "sl-form ng-pristine ng-invalid ng-invalid-required", role = "form", name = "signinForm", novalidate = "" }))
                    {
                        @Html.AntiForgeryToken()

                        @Html.TextBoxFor(m => m.LoginViewModel.Email, new { @class = "form-control input-lg ng-pristine ng-invalid ng-invalid-required", @placeholder = "E-mail ou login", @required = "", @autofocus = "", @name = "login", @maxlength = "100", @autocomplete = "off", @autocorrect = "off", @autocapitalize = "off", @spellcheck = "false" })
                        @Html.TextBoxFor(m => m.LoginViewModel.Password, new {@class="form-control input-lg ng-pristine ng-invalid ng-invalid-required", @placeholder = "Senha", @required = "", @name = "password", @type = "password" })

                        <p class="forget-password">
                            <a  href="/Account/ForgotPassword/">Esqueceu sua senha?</a>
                        </p>

                        <!-- Recaptcha -->
                        <!-- Entrar -->
                        <!-- ngIf: !loading --><button type="submit" class="sl-btn btn-primary btn-lg btn-block ng-scope">
                            Entrar
                        </button><!-- end ngIf: !loading -->
                        <!-- Loading -->
                        <!-- ngIf: loading -->

                        <p class="signup-call">
                            <a  class="js-cadastrese-se">Ainda não está na Kinkee? Cadastre-se agora mesmo!</a>
                        </p>
                    }
                </div>
            </div>

        </div>
    </div>
</div>


<script>
    $('.sl-close').click(function (event) {
        $('#html_injetado').empty();
        event.preventDefault();
    });



    $('.js-esqueci-senha').click(function (event) {
        $('#html_injetado').empty();

        $.get('Home/EsqueciSenhaModal', function (data) {

            $('#html_injetado').append(data);
        });


        event.preventDefault();
    });

    $('.js-cadastrese-se').click(function (event) {
        $('#html_injetado').empty();

        $.get('Home/CadastroModal', function (data) {

            $('#html_injetado').append(data);
        });


        event.preventDefault();
    });
</script>
