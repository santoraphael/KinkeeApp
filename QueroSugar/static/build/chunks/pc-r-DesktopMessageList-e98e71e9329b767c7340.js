/*! {Â© 2016 - 2020 Tinder, Inc., ALL RIGHTS RESERVED} */
(window.webpackJsonp=window.webpackJsonp||[]).push([[221],{1137:function(e,t,s){"use strict";var a=s(7),n=s.n(a),i=s(5),o=s(37),r=s(436),c={newMatch:"Bgc($c-pink) Bdc(#fff)",newMessage:"Bgc($c-pink) Bdc(#fff)"},l={newMatch:"Notification.newMatchTitle",newMessage:"Notification.newMessageTitle"},d={none:"Sq(14px)",topRight:"Sq(14px) Pos(a) T(4%) End(4%)",right:"Sq(14px) Pos(a) T(50%) End(0) Translate(40%,-50%)"},u=function(e){var t=e.className,s=e.position,a=e.type,i=Object(r.a)().formatMessage;return n()("div",{"aria-label":i({id:l[a]}),className:Object(o.a)(t,"Bdrs(50%) Bdw(2px) Bds(s)",d[s],c[a])})};u.defaultProps={className:"",position:"none",type:"newMatch"},t.a=Object(i.memo)(u)},1146:function(e,t,s){"use strict";var a=s(7),n=s.n(a),i=s(5),o=s(37),r=function(e){var t=e.backgroundColor,s=e.className,a=e.text,i=e.textColor;return a?n()("div",{className:Object(o.a)("Pos(a) B(0) Translate(-50%,50%) Start(50%) Ta(c) Mb(4px)",s)},void 0,n()("div",{className:"Skew(-18deg) Px(8px) Py(1px)",style:{backgroundColor:t}},void 0,n()("span",{className:"D(b) Skew(18deg) Fz($3xs) Fw($bold) Fs(i) Lts($ls-m)",style:{color:i}},void 0,a))):null};r.defaultProps={backgroundColor:"",className:"",textColor:"#fff"},t.a=Object(i.memo)(r)},1163:function(e,t,s){"use strict";t.a={gif:"UserLikedYourGif",image:"UserLikedYourBitmoji",song:"UserLikedYourSong",contact_card:"UserLikedYourContactCard",text:"UserLikedYourMessage"}},1166:function(e,t,s){"use strict";s.d(t,"a",(function(){return S}));var a=s(70),n=s.n(a),i=s(16),o=s.n(i),r=s(26),c=s.n(r),l=s(24),d=s.n(l),u=s(23),m=s.n(u),h=s(19),p=s.n(h),f=s(27),v=s.n(f),g=s(1),b=s.n(g),k=s(5),M=s.n(k),O=s(296),C=s(243),N=s.n(C),x=s(166),j=s.n(x),P=s(295),I=s.n(P);function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function S(e){var t=(function(t){function s(){var e,t;o()(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=d()(this,(e=m()(s)).call.apply(e,[this].concat(n))),b()(p()(t),"scrollListener",null),b()(p()(t),"saveScrollPosition",N()((function(){if(t.scrollElement){var e=t.scrollElement,s=e.scrollTop,a=e.scrollLeft;t.props.setScrollPosition(t.props.id,s,a)}}),500)),b()(p()(t),"setScrollElement",(function(e){t.scrollElement=e?e.scrollElement:null})),t}return v()(s,t),c()(s,[{key:"componentDidMount",value:function(){var e=this.props.prevPath,t=e&&this.props.routes.some((function(t){return 0===e.indexOf(t)}));this.scrollListener=Object(O.b)("scroll",this.saveScrollPosition,{target:this.scrollElement,eventOptions:{passive:!0}}),t&&this.setScrollPosition()}},{key:"componentWillUnmount",value:function(){this.scrollListener&&(this.scrollListener.unsubscribe(),this.scrollListener=null)}},{key:"setScrollPosition",value:function(){var e=this;I()((function(){e.scrollElement&&e.props.scrollPosition&&(e.scrollElement.scrollTop=e.props.scrollPosition.get("scrollTop"),e.scrollElement.scrollLeft=e.props.scrollPosition.get("scrollLeft"))}))}},{key:"render",value:function(){return M.a.createElement(e,n()({},this.props,{ref:this.setScrollElement}))}}]),s})(k.PureComponent);return b()(t,"defaultProps",(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(Object(s),!0).forEach((function(t){b()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e})({},e.defaultProps)),j()(t,e)}},1167:function(e,t,s){"use strict";var a=s(7),n=s.n(a),i=s(5),o=s(204),r=s(37),c=s(447);t.a=Object(i.memo)((function(e){var t=e.imgSrc,s=e.titleId,a=e.subtitleId,i=e.avatar,l=e.notificationShown;return n()("div",{className:Object(r.a)("D(f) Flx($flx1) Fld(c) Ai(c) Ta(c)",{"Jc(fs) Pt(20px)":l,"Jc(c)":!l})},void 0,t&&n()("img",{src:t,role:"presentation"}),i,n()(c.a,{className:"Mt(20px) Ta(c) W(200px)--m W(240px)",titleSize:"l",bold:!0,title:n()(o.a,{id:s}),subtitles:n()(o.a,{id:a})}))}))},1205:function(e,t,s){"use strict";var a=s(58),n=s(105),i=s(126),o=s(1206),r=s(460),c=s(1207),l=s(1208),d=s(1166);var u={setScrollPosition:r.c,setEndReached:r.a};t.a=Object(a.c)((function(e,t){return{os:Object(n.f)(e),browser:Object(n.a)(e),prevPath:Object(i.d)(e),scrollPosition:Object(o.b)(e)(t.id)}}),u)(Object(l.a)(Object(d.a)(c.a)))},1209:function(e,t,s){"use strict";var a=s(7),n=s.n(a),i=s(5),o=s(46),r=s.n(o),c=s(37),l=s(137),d=s(117),u=s(8),m=function(e){var t,s=e.avatar,a=e.className,i=e.linkUrl,o=e.matchId,r=e.name,m=e.onClick,h=e.textClassName;return t=i||(null==o?Object(u.c)("recs"):Object(u.c)("messageMatch",{matchId:o})),n()(d.f,{onClick:m,to:t,className:Object(c.a)("matchListItem D(ib) Pos(r) Ta(c)",a,l.b),i13nModel:{label:"MatchListItem",message:"Click"}},void 0,s,n()("span",{className:Object(c.a)("Mt(4px) D(b) Ta(c)",h)},void 0,r))};m.defaultProps={onClick:r.a,linkUrl:"",matchId:null,className:"",textClassName:""},t.a=Object(i.memo)(m)},1210:function(e,t,s){"use strict";var a=s(7),n=s.n(a),i=s(5),o=s(37),r=function(e){var t=e.className,s=e.count,a=e.message;return n()("div",{className:Object(o.a)("matchListTitle Py(12px) Px(8px) Px(24px)--ml",t)},void 0,n()("h2",{className:"matchListTitle__text C($c-pink) Fw($semibold) Tt(c)--s Fz($s)--s Fz($ms)--ml D(ib)"},void 0,a),s>0&&n()("span",{className:"matchListTitle__badge D(ib) C(#fff) Ta(c) Bgc($c-pink) Mstart(4px) Fz($xs) Px(4px) H(20px) Miw(20px) Lh(20px) Bdrs(20px)"},void 0,s))};r.defaultProps={className:"",count:0},t.a=Object(i.memo)(r)},1230:function(e,t,s){"use strict";var a=s(7),n=s.n(a),i=s(5),o=s.n(i),r=s(37),c=s(131),l=function(e){var t=e.className,s=e.fill;return n()("svg",{className:t,width:"117",height:"170"},void 0,n()("rect",{x:"0",y:"0",width:"117",height:"170",rx:"10",fill:s,fillRule:"evenodd"}))};l.defaultProps={className:"",fill:c.j};var d=Object(i.memo)(l),u=s(1167),m=n()(d,{fill:c.k,className:"Op(.5) Pos(a) T(16px) Start(16px)"}),h=n()(d,{fill:c.k,className:"Pos(a) T(8px) Start(8px)"}),p=function(e){var t=e.shouldAnimate,s=e.notificationShown,a={avatar:n()("div",{className:"Pos(r)"},void 0,m,h,n()(d,{fill:c.j,className:Object(r.a)("Pos(r) Animdur($xslow)",{"Animn($anim-rotate-right)":t})})),notificationShown:s,titleId:"NoMatches.title",subtitleId:"NoMatches.youllStartSeeingMatchesHere"};return o.a.createElement(u.a,a)};p.defaultProps={shouldAnimate:!1,notificationShown:!1};t.a=Object(i.memo)(p)},1246:function(e,t,s){"use strict";var a=s(7),n=s.n(a),i=s(5),o=s(37),r=function(e){var t=e.className,s=e.heightClassName,a=e.gradientClassName,i=e.isSuperLike,r=e.isSuperBoost,c=e.isBoost,l=a;return i?l="Bgi($superlike-gradient)":r?l="Bgi($superboost-gradient)":c&&(l="Bgi($boost-gradient)"),n()("div",{className:Object(o.a)("Pos(a) Start(0) B(0) End(0) TranslateZ(0)",s,l,t)})};r.defaultProps={className:"",heightClassName:"H(30%)",gradientClassName:"Bgi($light-gradient)",isSuperLike:!1,isBoost:!1,isSuperBoost:!1},t.a=Object(i.memo)(r)},1251:function(e,t,s){"use strict";var a=s(7),n=s.n(a),i=s(5),o=s(457),r=n()("div",{className:"CenterAlign Flx($flx1) Bgc(#fff) Fld(c)"},void 0,n()(o.a,{}));t.a=Object(i.memo)((function(){return r}))},1267:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(12);function n(e,t){var s=Object(a.List)(),n=Object(a.List)();return e.forEach((function(i,o){var r=(n=n.push(i)).size,c=e.size;(r===t||o===c-1)&&(s=s.push(n),n=Object(a.List)())})),s}},1302:function(e,t,s){"use strict";var a=s(7),n=s.n(a),i=s(5),o=s(436),r=s(989),c=s(988),l=s(53),d=s(1110),u=s(51),m=s(16),h=s.n(m),p=s(26),f=s.n(p),v=s(24),g=s.n(v),b=s(23),k=s.n(b),M=s(19),O=s.n(M),C=s(27),N=s.n(C),x=s(1),j=s.n(x),P=s(58),I=s(204),w=s(37),S=s(46),L=s.n(S),T=s(244),y=s(137),B=s(229),A=s(8),Y=s(117),E=s(449),F=s(264),U=s(1133),_=s(1119),R=s(1137),$=s(1146),D=s(1130),W=s(1163),G=s(1305),z=(s(992),n()(I.a,{id:"newMatchMessage"})),H=n()(R.a,{type:"newMessage",position:"topRight"}),V=n()("span",{className:"messageListItem__myReply D(ib)"}),Z=(function(e){function t(){var e,s;h()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return s=g()(this,(e=k()(t)).call.apply(e,[this].concat(i))),j()(O()(s),"renderLikedMessage",(function(){var e=s.props,t=e.messageType,a=e.gender,i=W.a[t]?W.a[t]:W.a.text;return n()(I.a,{id:i,values:{gender:a}})})),s}return N()(t,e),f()(t,[{key:"shouldComponentUpdate",value:function(e){return!Object(F.a)(this.props,e,["avatarUrls"])}},{key:"renderMessage",value:function(){var e=this.props,t=e.messageText,s=e.messageType,a=e.isLastMessageFromYou,i=e.name,o=e.gender;switch(s){case"gif":return n()(I.a,{id:a?"YouHaveSentAGif":"UserSentYouAGif",values:{name:i,gender:o}});case"image":return n()(I.a,{id:a?"YouHaveSentABitmoji":"UserSentYouABitmoji",values:{name:i,gender:o}});case"profile":return n()(I.a,{id:a?"YouHaveSentAProfile":"UserSentYouAProfile",values:{gender:o}});case"song":return n()(I.a,{id:a?"YouHaveSentASong":"UserSentYouASong",values:{gender:o}});case"contact_card":return n()(I.a,{id:a?"YouHaveSentAContactCard":"UserSentYouAContactCard",values:{name:i,gender:o}});default:return t?Object(U.c)(t).map((function(e,t){return n()("span",{className:e.type},t,e.text)})):z}}},{key:"getAvatar",value:function(){var e=this.props,t=e.avatar,s=e.avatarUrls,a=e.interestBottom,i=e.interestLeft,o=e.interestRight,r=e.interestTop,c=e.interestZoom,l=e.name,d=e.shouldShowIndicator,u=e.tinderUInfo;return t||n()(_.a,{interestBottom:a,interestLeft:i,interestRight:o,interestTop:r,interestZoom:c,loader:E.d.AVATAR_PLACEHOLDER,name:l,urls:s},void 0,d?H:null,u&&Object(B.d)(u)&&n()($.a,{text:u.getIn(["school","card_name"]),textColor:u.getIn(["school","text_color"]),secondaryColor:u.getIn(["school","secondary_color"]),backgroundColor:u.getIn(["school","primary_color"])}))}},{key:"render",value:function(){var e,t=this.props,s=t.isBoostMatch,a=t.isFastMatch,i=t.isSwipeNote,o=t.isSuperBoostMatch,r=t.isLastMessageFromYou,c=t.isLiked,l=t.isSuperLike,d=t.isVerified,u=t.linkUrl,m=t.matchId,h=t.name,p=t.onClick,f=t.shouldShowIndicator,v=t.truncateText,g=t.isMessageRead,b=t.lastReadMessageTimeStamp,k=t.shouldShowReadReceipt;e=u||(null==m?Object(A.c)("recs"):Object(A.c)("messageMatch",{matchId:m}));var M=this.getAvatar(),O=c&&r;return n()(Y.h,{onClick:p,to:e,className:Object(w.a)("messageListItem D(f) Ai(c) Pos(r)--s",y.a,{"messageListItem--isNew":f}),activeClassName:"messageListItem--active",i13nModel:{label:"MessageListItem",message:"Click"}},void 0,n()("div",{className:"messageListItem__avatar D(ib) Fxg(0)"},void 0,M),n()("div",{className:"messageListItem__info D(f) Flx($flx1) Ov(h) Fld(c) Pend(10px)"},void 0,n()("div",{className:"messageListItem__nameAndBadges D(f) Jc(sb)"},void 0,n()("div",{className:"D(f) CenterAlign"},void 0,n()("h3",{className:"messageListItem__name Fw($semibold) M(0)"},void 0,h),n()(D.a,{isFastMatch:a,isBoostMatch:s,isSuperLike:l,isSuperBoostMatch:o,isSwipeNote:i,isVerified:d,badgeProps:{size:"xsmall",className:"Va(tb) Mstart(4px) Fxs(0)"}})),k?n()(G.a,{className:"Mstart(8px)",isRead:g,messageTimeStamp:b}):null),n()("div",{className:Object(w.a)("messageListItem__message",{Ell:v})},void 0,r&&V,O?this.renderLikedMessage():this.renderMessage())))}}]),t})(i.Component);j()(Z,"defaultProps",{avatar:null,gender:0,interestBottom:1,interestLeft:0,interestRight:1,interestTop:0,interestZoom:!1,isBoostMatch:!1,isSuperBoostMatch:!1,isSwipeNote:!1,isFastMatch:!1,isLastMessageFromYou:!1,isLiked:!1,isSuperLike:!1,isVerified:!1,linkUrl:"",matchId:null,messageText:"",messageType:"",tinderUInfo:null,onClick:L.a,shouldShowIndicator:!1,truncateText:!0,shouldShowReadReceipt:!1,isMessageRead:!1,lastReadMessageTimeStamp:0});var q=Object(P.c)((function(e,t){var s=t.matchId;return{name:Object(T.j)(e)(s),gender:Object(T.h)(e)(s),shouldShowIndicator:Object(T.l)(e)(s),isSuperLike:Object(T.d)(e)(s),isBoostMatch:Object(T.b)(e)(s),isSuperBoostMatch:Object(T.c)(e)(s),isSwipeNote:Object(T.e)(e)(s),isFastMatch:Object(T.a)(e)(s),tinderUInfo:Object(T.m)(e)(s),isVerified:Object(T.f)(e)(s)}}))(Z),J=s(1210),X=function(e){var t=e.currentPath,s=e.loadMoreElement,a=e.matches,m=e.matchesWithNewMessagesCount,h=Object(o.a)().formatMessage;return n()(i.Fragment,{},void 0,n()(J.a,{className:"D(n)--ml",count:m,message:h({id:"messages"})}),n()("div",{className:"messageList"},void 0,n()(r.a,{component:null},void 0,a.map((function(e){var s=e.get("messages",l.a).last(),a=s&&e.getIn(["person","_id"])!==s.get("from"),i=Object(u.t)(e),o=e.getIn(["person","photos",0]),r=e.getIn(["readreceipt","enabled"],!1),m=e.getIn(["readreceipt","last_seen_msg_id"],""),h=e.getIn(["readreceipt","seen_ts"],null),p=r&&a,f=s&&s.get("_id")===m,v=Object(d.g)(o),g=v.interestLeft,b=v.interestTop,k=v.interestRight,M=v.interestBottom,O=v.userCustomized,C=void 0!==O&&O;return n()(c.a,{classNames:"new-match-transition",timeout:{enter:1500,exit:100}},e.get("_id"),n()(q,{avatarUrls:i,currentPath:t,interestBottom:M,interestLeft:g,interestRight:k,interestTop:b,interestZoom:C,isLastMessageFromYou:a,matchId:e.get("_id"),isLiked:s.get("is_liked"),messageText:s&&s.get("message"),messageType:s&&s.get("type"),isMessageRead:f,shouldShowReadReceipt:p,lastReadMessageTimeStamp:h}))})))),s)};X.defaultProps={className:"",currentPath:null,loadMoreElement:null};t.a=Object(i.memo)(X)},1597:function(e,t,s){"use strict";s.r(t),s.d(t,"UnconnectedDesktopMessageList",(function(){return Ke}));var a=s(70),n=s.n(a),i=s(7),o=s.n(i),r=s(16),c=s.n(r),l=s(26),d=s.n(l),u=s(24),m=s.n(u),h=s(23),p=s.n(h),f=s(19),v=s.n(f),g=s(27),b=s.n(g),k=s(1),M=s.n(k),O=s(5),C=s.n(O),N=s(58),x=s(8),j=s(37),P=s(6),I=s.n(P),w=s(53),S=s(211),L=s(51),T=s(144),y=s(1168),B=s(264),A=s(1169),Y=function(e){var t=e.className,s=e.rowCount,a=e.children,n=e.childClassName;return o()("div",{className:Object(j.a)("D(f) Flw(w)",t)},void 0,O.Children.map(a,(function(e,t){return o()("div",{style:{width:"".concat((100/s).toFixed(2),"%")},className:n},t,e)})))};Y.defaultProps={className:"",childClassName:""};var E=Y,F=s(46),U=s.n(F),_=s(244),R=s(1110),$=s(449),D=s(1137),W=s(1146),G=s(1130),z=s(1246),H=s(1209),V=Object(O.memo)((function(e){var t=e.selectedId,s=e.className,a=e.avatar,n=e.id,i=e.matchId,r=e.name,c=e.linkUrl,l=e.textClassName,d=e.onClick;return o()(H.a,{linkUrl:c,onClick:d,className:Object(j.a)("H(120px) H(180px)--m W(100%) Trsdu($normal) Wc($transform) Scale(1.1):h Op(1):h Mx(0)!",{"Op(.2)":t&&t!==i,"Op(1)":t===i},s),textClassName:Object(j.a)("C(#fff) Pos(a) W(90%) B(6px) Start(6px) Ell Fw($bold) Ta(s)",l),avatar:a,matchId:i,name:r},n)})),Z=o()(D.a,{type:"newMatch",className:"Sq(14px) Pos(a) T(0) End(0) Translate(50%,-50%)"}),q=(function(e){function t(){var e,s;c()(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=m()(this,(e=p()(t)).call.apply(e,[this].concat(n))),M()(v()(s),"handleClick",(function(){var e=s.props;(0,e.onClick)(e.matchId)})),s}return b()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e){return!Object(B.a)(this.props,e,["avatarUrls"])}},{key:"render",value:function(){var e=this.props,t=e.isInactive,s=e.selectedId,a=e.name,n=e.avatarUrls,i=e.tinderUInfo,r=e.isSuperLike,c=e.isBoost,l=e.isSuperBoost,d=e.matchId,u=e.shouldShowIndicator,m=e.person,h=o()("div",{className:"CenterAlign Pos(a) B(0) Maw(100%)"},void 0,o()("div",{className:"Ell"},void 0,a),o()(G.a,{isBoostMatch:c,isSuperLike:r,isSuperBoostMatch:l,badgeProps:{size:"xsmall",className:"Mx(2px)"}})),p=Object(R.g)(m),f=p.interestLeft,v=p.interestTop,g=p.interestRight,b=p.interestBottom;return o()(V,{onClick:this.handleClick,matchId:d,id:d,name:h,selectedId:s,isInactive:t,avatar:o()(O.Fragment,{},void 0,o()($.a,{alt:a,className:"recCard__img StretchedBox Bdrs(4px) P(4px)",deferLoadUntilInViewport:!0,intendedAspectRatio:.725,loader:$.d.AVATAR_PLACEHOLDER,urls:n,interestLeft:f,interestTop:v,interestRight:g,interestBottom:b}),o()(z.a,{className:"Bdrs(4px)",isSuperLike:r,isBoost:c,isSuperBoost:l}),u?Z:null,i&&i.get("school")&&o()(W.a,{text:i.getIn(["school","card_name"]),textColor:i.getIn(["school","text_color"]),secondaryColor:i.getIn(["school","secondary_color"]),backgroundColor:i.getIn(["school","primary_color"])}))})}}]),t})(O.Component);M()(q,"defaultProps",{name:"",onClick:U.a,matchId:"",selectedId:"",isInactive:!1,isBoost:!1,isSuperBoost:!1,isSuperLike:!1,tinderUInfo:null});var J=Object(N.c)((function(e,t){var s=t.matchId;return{name:Object(_.j)(e)(s),shouldShowIndicator:Object(_.l)(e)(s),isSuperLike:Object(_.d)(e)(s),isBoost:Object(_.b)(e)(s),isSuperBoost:Object(_.c)(e)(s),tinderUInfo:Object(_.m)(e)(s),person:Object(_.k)(e)(s)}}))(q),X=s(1189),K=s(1161),Q=s(1182),ee=(function(e){function t(){var e,s;c()(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=m()(this,(e=p()(t)).call.apply(e,[this].concat(n))),M()(v()(s),"handleClick",(function(){s.props.onClick("likesyou")})),s}return b()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.hasGold,s=e.isLikesYouCountLoading,a=e.likesYouCount,n=e.likesYouIsRange,i=e.likesYouPreviewUrl,r=e.selectedId,c=e.isInactive,l=e.likesYouId;return o()(V,{linkUrl:Object(x.c)("likesYou"),textClassName:"C(#fff) Pos(a) B(8px) Start(8px) Fz($2xs)",onClick:this.handleClick,id:l,matchId:"likesyou",selectedId:r,isInactive:c,avatar:o()(X.a,{imageClassName:"Bdrs(4px)",className:"Bdrs(4px)",hasGold:t,intendedAspectRatio:.7,isLikesYouCountLoading:s,likesYouCount:a,likesYouIsRange:n,likesYouPreviewUrl:i,shape:Q.c,sizeClassName:"H(100%)"}),name:o()("div",{className:Object(j.a)("Pos(a)",{"C($c-transparent-black)":0===a})},void 0,o()(K.a,{count:a,isRange:n})),truncateText:!1})}}]),t})(O.PureComponent);M()(ee,"defaultProps",{currentPath:null,hasGold:!1,isLikesYouCountLoading:!1,likesYouCount:0,likesYouIsRange:!1,likesYouPreviewUrl:""});var te=ee,se=s(1267),ae=(function(e){function t(){var e,s;c()(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=m()(this,(e=p()(t)).call.apply(e,[this].concat(n))),M()(v()(s),"handleClickGridItem",(function(e){s.props.onChangeSelectedMatch(e)})),M()(v()(s),"renderMatchListItem",(function(e){var t,a,n=s.props,i=n.selectedMatchId,r=n.currentPath,c=n.hasGold,l=n.isLikesYouCountLoading,d=n.likesYouCount,u=n.likesYouIsRange,m=n.likesYouPreviewUrl,h=n.openModal,p="likesyou"!==i;if("likesyou"===e)a=m,t=o()(te,{likesYouId:a,onClick:s.handleClickGridItem,currentPath:r,hasGold:c,isLikesYouCountLoading:l,likesYouCount:d,likesYouIsRange:u,likesYouPreviewUrl:m,openModal:h,selectedId:i,isInactive:p},"likesyou");else{var f=Object(L.k)(e);a=e.get("_id"),t=o()(J,{avatarUrls:f,isInactive:p,matchId:a,onClick:s.handleClickGridItem,selectedId:i},a)}return t})),s}return b()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e){return!Object(B.a)(this.props,e,["matches"])}},{key:"render",value:function(){var e=this,t=this.props,s=t.matches,a=t.loadMoreElement,n=t.showLikesYou?s.unshift("likesyou"):s;return o()(O.Fragment,{},void 0,o()(T.d,{},void 0,Object(se.a)(n,4).map((function(t,s){return o()(E,{childClassName:"P(8px) Ta(c)",rowCount:2},s,t.map(e.renderMatchListItem))}))),o()(T.a,{},void 0,Object(se.a)(n,9).map((function(t,s){return o()(E,{childClassName:"P(8px) Ta(c)",rowCount:3},s,t.map(e.renderMatchListItem))}))),a)}}]),t})(O.Component);M()(ae,"defaultProps",{matches:w.a,loadMoreElement:null});var ne=Object(A.a)(ae,{scrollId:"matchListNoMessages",loadMoreId:"matchListNoMessages",loadMoreAction:S.f,loadMoreElementFnc:function(e,t){return o()(y.a,{className:"Va(t) W(100%)!",loadMoreState:e,handleRetry:t,horizontal:!0})}}),ie=s(35),oe=s(72),re=s(126),ce=s(384),le=s(299),de=s(25),ue=s(212),me=s(334),he=s(75),pe=s(4),fe=s(21),ve=s(458),ge=s(36),be=s(50),ke=s(204),Me=s(117),Oe=s(454),Ce=s.p+"1460c5e9c27d3876d2ea4c23f99dd818.svg",Ne=o()("div",{className:"D(f) Jc(c) Ai(fs) Fxg(0) Pt(2px) Pstart(25px)--l Pstart(20px)--m Pend(20px)"},void 0,o()("div",{className:"CenterAlign Sq(36px) Bdrs(8px) Bdw(2px) Bdc(#fff) Bds(s)"},void 0,o()("img",{className:"D(b)",src:Ce,alt:"ð"}))),xe=o()("div",{className:"Flx($flx1) Fld(c) Pend(10px)"},void 0,o()("h3",{className:"Fw($semibold)"},void 0,o()(ke.a,{id:"Notification.seeWhenYourMatchesAnswer"})),o()("div",{className:"Td(u) Fz($xs)"},void 0,o()(ke.a,{id:"Onboarding.enableNotifications"}))),je=function(e){var t=e.onClick,s=Object(O.useCallback)((function(){t()}),[t]);return o()(Oe.a,{className:Object(j.a)("D(f) Ta(s) Fxs(0)","Pt(12px) Pb(14px) Pend(10px)","C(#fff) Bg($yellow-gradient-horizontal)"),renderTag:Me.c,onClick:s,i13nModel:{label:"EnableNotificationsBanner",message:"Click"}},void 0,Ne,xe)};je.defaultProps={onClick:U.a};var Pe=Object(O.memo)(je),Ie=s(1251),we=s(1302),Se=Object(A.a)(we.a,{scrollId:"matchListWithMessages",loadMoreId:"matchListWithMessages",loadMoreAction:S.f,loadMoreElementFnc:function(e,t){return o()(y.a,{className:"My(10px) W(100%)!",loadMoreState:e,handleRetry:t})}}),Le=s(552),Te=s(131),ye=function(e){var t=e.className,s=e.fill;return o()("svg",{className:t,width:"157",height:"146"},void 0,o()("path",{d:"M136.502 59.666c7.274 0 14.2 1.284 20.498 3.585C156.08 28.194 121.312 0 78.52 0 35.156 0 0 28.952 0 64.67c0 23.096 14.714 43.355 36.833 54.793v23.427c0 2.71 2.05 3.873 4.557 2.584l31.714-16.304c1.135.062 2.282.079 3.425.106.17.064.17.064 1.992.064.974 0 1.948-.03 2.909-.069 3.71-.116 7.325-.5 10.887-1.017-5.121-6.913-8.128-15.08-8.128-23.85 0-24.669 23.469-44.738 52.313-44.738z",fill:s,fillRule:"evenodd"}))};ye.defaultProps={className:"",fill:Te.j};var Be=Object(O.memo)(ye),Ae=s(1167),Ye=function(e){var t=e.shouldAnimate,s=e.notificationShown,a=Object(j.a)("Animdur($xslow)",{"Animn($anim-grow)":t});return o()(Ae.a,{avatar:o()("div",{className:"CenterAlign Pos(r)"},void 0,o()("div",{className:"D(ib)"},void 0,o()(Be,{fill:Te.k,className:Object(j.a)(" Mend(20px)",a)}),o()(Le.a,{className:Object(j.a)("Pos(a) T(70px) Start(96px) Animdel($xslow)",a)}))),notificationShown:s,titleId:"NoMessages.title",subtitleId:"NoMessages.lookingToStrikeUpConversation"})};Ye.defaultProps={shouldAnimate:!1,notificationShown:!1};var Ee=Object(O.memo)(Ye),Fe=s(1230),Ue=s(1205),_e=s(57),Re=s(196),$e=s(262),De=s(137),We=s(382),Ge=o()(ke.a,{id:"matches"}),ze=o()(ke.a,{id:"messages"}),He=function(e){var t=Object(O.useRef)(),s=Object(O.useRef)(),a=e.onClickMatchesTab,n=e.onClickMessagesTab,i=e.newMatchesCount,r=e.matchesWithNewMessagesCount,c=e.notificationCountClassName,l=e.isMatchesOpen,d=[t.current,s.current],u=function(e,t){if(t>0){if(e===d.length-1)return 0}else if(0===e)return d.length-1;return e+t},m=function(e){d=[t.current,s.current];var a=document.activeElement,n=d.indexOf(a);if(-1!==n)switch(e.keyCode){case $e.p:case $e.h:var i=d[u(n,-1)];i&&i.focus();break;case $e.l:case $e.e:var o=d[u(n,1)];o&&o.focus()}};return Object(O.useEffect)((function(){var e=We.c.subscribe(We.a,m,!0);return function(){e.unsubscribe()}}),[]),o()("div",{className:"Px(20px) Py(12px)"},void 0,o()("div",{className:"Whs(nw)",role:"tablist"},void 0,o()("div",{className:"Ta(start) D(ib) Va(m)"},void 0,C.a.createElement("button",{"aria-controls":"matchListNoMessages","aria-selected":l,className:Object(j.a)(De.b,"Cur(p) Fw($bold) D(f) Fld(r) Px(8px)"),id:"match-tab",onClick:a,role:"tab",ref:s},Ge,i>0&&o()("span",{className:c},void 0,i)),o()("hr",{style:{height:"3px"},className:Object(j.a)("M(0) Bdw(0) Trsdu($normal) Bgc($c-pink)",{"TranslateX(0) Op(1)":l,"TranslateX(100%) Op(0)":!l})})),o()("div",{className:"Mstart(16px) D(ib) Va(m)"},void 0,C.a.createElement("button",{"aria-controls":"matchListWithMessages","aria-selected":!l,className:Object(j.a)(De.b,"Cur(p) Fw($bold) D(f) Fld(r) Px(8px)"),id:"messages-tab",onClick:n,role:"tab",ref:t},ze,r>0&&o()("span",{className:c},void 0,r)),o()("hr",{style:{height:"3px"},className:Object(j.a)("M(0) Bdw(0) Trsdu($normal) Bgc($c-pink)",{"TranslateX(-100%) Op(0)":l,"TranslateX(0) Op(1)":!l})}))))};He.defaultProps={onClickMatchesTab:U.a,onClickMessagesTab:U.a,notificationCountClassName:"Bgc($c-pink) Bdrs(40px) C(#fff) Fz($2xs) Mstart(8px) Px(4px) Miw(20px) H(20px) CenterAlign"};var Ve=Object(O.memo)(He),Ze=(s(1014),Object(ie.a)({loader:function(){return Promise.all([s.e(0),s.e(54)]).then(s.bind(null,1583))}})),qe=["/recs","/matches","/messages/"],Je=o()(Ze,{}),Xe=o()(Ie.a,{}),Ke=(function(e){function t(){var e,s;c()(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=m()(this,(e=p()(t)).call.apply(e,[this].concat(n))),M()(v()(s),"state",{tabOpen:0===I()(s.props,["matchesInfo","withoutMessagesCount"])&&I()(s.props,["matchesInfo","withMessagesCount"])>0?"MESSAGES_TAB":"MATCHES_TAB",selectedMatchId:null,lastMatchesWithoutMessagesIds:w.a}),M()(v()(s),"handleChangeSelectedMatch",(function(e){e===s.state.selectedMatchId?s.setState({selectedMatchId:null},(function(){return _e.a.push(Object(x.c)("matches"))})):s.setState({selectedMatchId:e})})),M()(v()(s),"handleClickMatchesTab",(function(){s.setState({tabOpen:"MATCHES_TAB"})})),M()(v()(s),"handleClickMessagesTab",(function(){s.setState({lastMatchesWithoutMessagesIds:w.a,tabOpen:"MESSAGES_TAB",selectedMatchId:null})})),M()(v()(s),"renderNotificationContent",(function(){var e=s.props,t=e.hasIntroPriceProduct,a=e.introPriceExpiresAt,n=e.onClickNotificationsBanner,i=e.showNotificationsNag,r=Object(Re.a)(0,a);return t&&!r?Je:i?o()(Pe,{onClick:n}):null})),s}return b()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.matchesLoaded;e.isGoldEnabled&&this.props.fetchLikesYouPreview(),t&&this.trackData()}},{key:"componentDidUpdate",value:function(e,t){!e.matchesLoaded&&this.props.matchesLoaded&&this.trackData(),this.props.currentPath!==Object(x.c)("matches",{},!1)&&this.props.prevPath!==Object(x.c)("likesYou",{},!1)||null===t.selectedMatchId||this.setState({selectedMatchId:null})}},{key:"trackData",value:function(){var e=this.props,t=e.trackEvent,s=e.matchesInfo;t(pe.ob,{numMatches:s.totalMatchesCount,numMessages:s.withMessages,numUnreadMatches:s.newMatchesCount,numUnreadMessages:s.matchesWithNewMessagesCount})}},{key:"render",value:function(){var e,t=this.props,s=t.currentPath,a=t.hasGold,i=t.hasIntroPriceProduct,r=t.isGoldEnabled,c=t.isLikesYouCountLoading,l=t.introPriceExpiresAt,d=t.likesYouCount,u=t.likesYouIsRange,m=t.likesYouPreviewUrl,h=t.matchId,p=t.matchesInfo,f=t.matchesLoaded,v=t.showNotificationsNag,g=a||r&&d>0,b="MATCHES_TAB"===this.state.tabOpen,k="MESSAGES_TAB"===this.state.tabOpen,M=i&&!Object(Re.a)(0,l)||v,N={openModal:this.props.openModal,currentPath:s,isLikesYouCountLoading:c,likesYouCount:d,likesYouIsRange:u,likesYouPreviewUrl:m,hasGold:a};if(f&&p){var x="NetHeight(100%,50px) W(100%) Trsp(a)! Trsdu($normal) Pos(a) Ovy(s) Ovs(touch) Ovx(h) Ovsby(n)",P=Object(j.a)(x,{"TranslateX(-100%)":k}),I=Object(j.a)(x,{"TranslateX(100%)":b});e=o()(O.Fragment,{},void 0,o()(Ve,{onClickMatchesTab:this.handleClickMatchesTab,newMatchesCount:p.newMatchesCount,onClickMessagesTab:this.handleClickMessagesTab,matchesWithNewMessagesCount:p.matchesWithNewMessagesCount,isMatchesOpen:b,isMessagesOpen:k}),o()("div",{className:"D(f)"},void 0,p.withoutMessagesCount||g?o()(Ue.a,{id:"matchListNoMessages",className:Object(j.a)("Whs(nw) Pt(4px) Pb(12px) Px(8px)",P),routes:qe,role:"tabpanel","aria-labelledby":"match-tab"},void 0,C.a.createElement(ne,n()({matches:p.withoutMessages,showLikesYou:g,onChangeSelectedMatch:this.handleChangeSelectedMatch,selectedMatchId:this.state.selectedMatchId},N))):o()("div",{className:Object(j.a)("D(f)",P)},void 0,o()(Fe.a,{shouldAnimate:b,notificationShown:M})),p.withMessagesCount?o()(Ue.a,{id:"matchListWithMessages",className:Object(j.a)("desktopMessageList D(f) Flx($flx1) Fld(c) Z(0)",I),routes:qe,role:"tabpanel","aria-labelledby":"messages-tab"},void 0,C.a.createElement(Se,n()({matches:p.withMessages,matchesWithNewMessagesCount:p.matchesWithNewMessagesCount,matchId:h},N))):o()("div",{className:Object(j.a)("D(f)",I)},void 0,o()(Ee,{shouldAnimate:k,notificationShown:M}))))}else e=Xe;return o()("div",{className:"D(f) Flx($flx1) Fld(c) H(100%) Z(0) Bgc(#fff)"},void 0,this.renderNotificationContent(),e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var s=t.lastMatchesWithoutMessagesIds||w.a,a=e.matchesWithoutMessagesIds||w.a;if(!a.equals(s)){var n=s.toOrderedSet(),i=a.toOrderedSet(),o=n.subtract(i),r=e.matchesWithMessagesIds.toOrderedSet().intersect(o);return{lastMatchesWithoutMessagesIds:a,tabOpen:r.size?"MESSAGES_TAB":t.tabOpen,selectedMatchId:r.size?null:t.selectedMatchId}}return null}}]),t})(O.PureComponent);M()(Ke,"defaultProps",{fetchLikesYouPreview:U.a,hasGoldProducts:!1,hasGold:!1,isLikesYouCountLoading:!1,likesYouCount:0,likesYouIsRange:!1,likesYouPreviewUrl:"",matchesLoaded:!1,onClickNotificationsBanner:U.a,showNotificationsNag:!1,trackEvent:U.a});var Qe={fetchLikesYouPreview:ue.s,onClickNotificationsBanner:me.enableAllNotifications,openModal:be.b,trackEvent:fe.a};t.default=Object(N.c)((function(e){var t=Object(de.w)(e);return{currentPath:Object(re.a)(e),hasGold:t,hasIntroPriceProduct:Object(de.B)(e),isGoldEnabled:Object(oe.i)(e),isLikesYouCountLoading:Object(ce.h)(e),introPriceExpiresAt:Object(ve.c)(e),likesYouCount:Object(ce.j)(e),likesYouIsRange:Object(ce.k)(e),likesYouPreviewUrl:Object(ce.l)(e),matchesInfo:Object(_.n)(e),matchesWithoutMessagesIds:Object(_.p)(e),matchesWithMessagesIds:Object(_.o)(e),matchesLoaded:Object(he.a)(e),prevPath:Object(re.d)(e),showNotificationsNag:Object(ge.f)()&&!Object(le.c)(e)}}),Qe)(Ke)}}]);