/*! {Â© 2016 - 2020 Tinder, Inc., ALL RIGHTS RESERVED} */
(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{1137:function(t,e,i){"use strict";var n=i(7),o=i.n(n),a=i(5),s=i(37),r=i(436),c={newMatch:"Bgc($c-pink) Bdc(#fff)",newMessage:"Bgc($c-pink) Bdc(#fff)"},l={newMatch:"Notification.newMatchTitle",newMessage:"Notification.newMessageTitle"},p={none:"Sq(14px)",topRight:"Sq(14px) Pos(a) T(4%) End(4%)",right:"Sq(14px) Pos(a) T(50%) End(0) Translate(40%,-50%)"},d=function(t){var e=t.className,i=t.position,n=t.type,a=Object(r.a)().formatMessage;return o()("div",{"aria-label":a({id:l[n]}),className:Object(s.a)(e,"Bdrs(50%) Bdw(2px) Bds(s)",p[i],c[n])})};d.defaultProps={className:"",position:"none",type:"newMatch"},e.a=Object(a.memo)(d)},1163:function(t,e,i){"use strict";e.a={gif:"UserLikedYourGif",image:"UserLikedYourBitmoji",song:"UserLikedYourSong",contact_card:"UserLikedYourContactCard",text:"UserLikedYourMessage"}},1641:function(t,e,i){"use strict";i.r(e);var n=i(7),o=i.n(n),a=i(16),s=i.n(a),r=i(26),c=i.n(r),l=i(24),p=i.n(l),d=i(23),f=i.n(d),u=i(19),g=i.n(u),m=i(27),h=i.n(m),v=i(1),b=i.n(v),N=i(5),y=i.n(N),x=i(58),k=i(247),w=i(57),M=i(53),C=i(456),I=i(126),S=i(75),T=i(173),E=i(68),O=i(36),P=i(363),B=i(50),j=i(117),A=i(9),U=i(70),L=i.n(U),$=i(78),R=i.n($),F=i(37),V=i(46),Y=i.n(V),D=i(449),z=i(1119),_=i(1137),W=i(1120),q=i(447),G=i(1111),H=i(8),J=o()(_.a,{type:"newMessage",position:"right"}),Z=o()(G.e,{iconClassName:"Pos(a) B(0) End(0)",size:"xsmall"}),K=o()(G.j,{iconClassName:"Pos(a) B(0) End(0)",size:"xsmall"}),Q=o()(G.a,{iconClassName:"Pos(a) B(0) End(0)",size:"xsmall"}),X=(function(t){function e(){return s()(this,e),p()(this,f()(e).apply(this,arguments))}return h()(e,t),c()(e,[{key:"render",value:function(){var t=this.props,e=t.avatarImgs,i=t.avatarShape,n=t.icon,a=t.interestBottom,s=t.interestLeft,r=t.interestRight,c=t.interestTop,l=t.interestZoom,p=t.name,d=t.onClick,f=t.position,u=t.text,g=t.title,m=t.to,h=t.type,v=R()(t,["avatarImgs","avatarShape","icon","interestBottom","interestLeft","interestRight","interestTop","interestZoom","name","onClick","position","text","title","to","type"]);if(!h)return null;var b="message"===h||"likedMessage"===h,N=j.d;return m&&(N=j.i),o()("div",{className:Object(F.a)("W(320px)--ml notification D(f) Ai(c) Cur(p) M(4px) Bdrs(8px) Bxsh($bxsh-notification)","Animdur($slow)",{"Bgc($c-bg)":b,"Bg($purple-gradient-diagonal)":"boost"===h,"Bg($green-gradient-diagonal)":"match"===h,"Bg($gold-gradient)":"gold"===h,"Bg($pink-gradient)":"error"===h||"verifyError"===h,"Bgc($c-bg-black)":"generic"===h||"verify"===h,"Bg($lite-blue-gradient-diagonal)":"super_like"===h},h,f),onClick:d},void 0,y.a.createElement(N,L()({className:"Expand D(f) Ai(c) Px(16px) Py(8px)",to:m},v),o()("div",{className:"Pos(r)"},void 0,e.length>0?o()(z.a,{className:"Mend(12px) Mend(16px)--ml",interestBottom:a,interestLeft:s,interestRight:r,interestTop:c,interestZoom:l,loader:D.d.NONE,name:p,sizeClassName:"Sq(44px)",urls:e,shape:i},void 0,(function(t){switch(t){case"message":return J;case"match":return Z;case"super_like":return K;case"boost":return Q;default:return null}})(h)):o()("div",{className:"Mend(12px) Mend(16px)--ml"},void 0,n)),o()("div",{className:"Va(m)"},void 0,o()(q.a,{className:Object(F.a)("D(f) Ai(fs) Fld(c)",{"Tsh($tsh-s)":!b}),bold:!0,title:g,titleClassName:Object(F.a)("LineClamp(1,21px) Mb(0)",{"C($c-base)":b,"C(#fff)":!b}),titleSize:"s",subtitleSize:"xs",subtitles:u,subtitleItemClassName:Object(F.a)("Fw($medium) LineClamp(1,18.375px)",{"C($c-secondary)":b,"C(#fff)":!b})}))),o()(W.a,{className:"Pos(a) Sq(16px) End(0) Mend(16px)",pathClassName:Object(F.a)({"Fill($c-base)":b,"Fill(#fff)":!b,"D(n)":"gold"===h})}))}}]),e})(N.PureComponent);b()(X,"defaultProps",{avatarImgs:[],interestBottom:1,interestLeft:0,interestRight:1,interestTop:0,interestZoom:!1,icon:null,name:null,onClick:Y.a,text:"",position:"Pos(a) End(0) Start(0) Start(a)--ml",title:"",to:Object(H.c)("recs"),type:null});var tt=X,et=i(391),it=i(1163);i(1006);function nt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var ot=o()("div",{className:"Bgc(#fff) Bdrs(50%) P(8px)"},void 0,o()(et.a,{className:"Sq(20px)",fill:"#32363d",isTinderU:!0})),at=(function(t){function e(t){var i;return s()(this,e),i=p()(this,f()(e).call(this,t)),b()(g()(i),"getUserAvatars",(function(t){var e=t.getIn(["options","avatarImgArray"]),i=t.getIn(["options","icon"]);return e&&e.toJS()||i&&[i]||[]})),b()(g()(i),"getTranslationText",(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return null;var o=i.props.intl.formatMessage;return e?o({id:t},n):t})),b()(g()(i),"showInAppNotification",(function(t){i.setState({items:t})})),b()(g()(i),"dismissNotification",(function(t,e,n){e&&clearTimeout(e);var o=n.getIn(["options","onClick"]),a=n.getIn(["options","modalType"]),s=n.getIn(["options","modalProps"]);i.props.removeNotification(t),o&&o(),a&&i.props.openModal(a,{props:s})})),b()(g()(i),"showBrowserNotification",(function(t){t.forEach((function(t){var e=t.get("timestamp");if(!i.shown[e]){i.shown[e]=!0;try{var n=i.getNotificationContent(t),o=t.get("options").toJS(),a=new Notification(n.title||t.get("title"),(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(i),!0).forEach((function(e){b()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):nt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t})({},o,{icon:i.getUserAvatars(t)[0],body:n.text}));a.onclick=function(){a.close();var t=o.data.route;w.a.push("".concat(t,"?utm_source=notification"))},a.onclose=function(){i.props.removeNotification(e),delete i.shown[e]},setTimeout((function(){a.close()}),4e3)}catch(t){i.props.removeNotification(e),delete i.shown[e]}}}))})),b()(g()(i),"renderInAppNotification",(function(t,e,n,a){var s=t.get("timestamp"),r=t.get("subtype"),c=setTimeout((function(){i.props.removeNotification(s)}),4e3),l=i.getUserAvatars(t);return o()(tt,{type:r,to:t.getIn(["options","data","route"]),onClick:function(){return i.dismissNotification(s,c,t)},i13nModel:{label:"Notification - ".concat(r)},avatarImgs:l,avatarShape:t.getIn(["options","avatarShape"]),name:t.getIn(["options","userName"]),title:e,text:n,icon:a},s)})),b()(g()(i),"renderInAppNotifications",(function(t){return t.map((function(t){var e=i.getNotificationContent(t);return i.renderInAppNotification(e.item,e.title,e.text,e.icon)}))})),i.shown={},i.state={},i}return h()(e,t),c()(e,[{key:"componentWillReceiveProps",value:function(t){var e=t.items,i=t.newFlags,n=e.filter((function(t){return t.get("type")===O.c.browser}));n&&n.size&&this.showBrowserNotification(n);var o=e.filter((function(t){return t.get("type")===O.c.inApp}));o&&o.size?this.showInAppNotification(o):this.setState({items:null}),i.equals(this.props.newFlags)||Object(T.h)(i,this.props.newFlags,t.recentlyMatchedMatchIds,this.props.showNotification,this.props.currentPath)}},{key:"getNewMessageContent",value:function(t){var e=this.props.intl.formatMessage,i=t.getIn(["options","contentType"]),n=t.getIn(["options","userName"]),o=t.getIn(["options","gender"],0),a={item:t};switch(i){case"like":a.title=e({id:"Notification.likedyourmessage"}),a.text=e({id:"UserLikedMessage"},{name:n,gender:o});break;case"gif":a.title=e({id:"Notification.newMessageTitle"}),a.text=e({id:"UserSentYouAGif"},{name:n,gender:o});break;case"image":a.title=e({id:"Notification.newMessageTitle"}),a.text=e({id:"UserSentYouABitmoji"},{name:n,gender:o});break;case"song":a.title=n,a.text=e({id:"UserSentYouASong"},{gender:o});break;case"contact_card":a.title=e({id:"Notification.newMessageTitle"}),a.text=e({id:"UserSentYouAContactCard"},{name:n,gender:o});break;case"gesture":case"text":default:a.title=n,a.text=t.getIn(["options","body"])}return a}},{key:"getUserLikedContent",value:function(t){var e=this.props.intl.formatMessage,i=t.getIn(["options","contentType"]),n=t.getIn(["options","userName"]),o=t.getIn(["options","gender"],0),a={item:t},s=it.a[i]?it.a[i]:it.a.text;return a.title=n,a.text=e({id:s},{gender:o}),a}},{key:"getNewMatchContent",value:function(t){var e=this.props.intl.formatMessage,i=t.getIn(["options","matchType"]),n=t.getIn(["options","userName"]),o={item:t,text:e({id:"Notification.newMatchMessage"},{user:n})};switch(i){case"superboost":o.title=e({id:"Notification.newSuperBoostMatch"});break;case"boost":o.title=e({id:"Notification.newBoostMatch"});break;case"fastmatch":default:o.title=e({id:"Notification.newMatchTitle"})}return o}},{key:"getVerifyContent",value:function(t){var e=this.props.intl.formatMessage,i=t.getIn(["options","verificationType"]),n={item:t};switch(i){case"sms":n.text=e({id:"FacebookPhoneVerification.SuccessNotificationContent"}),n.title=e({id:"FacebookPhoneVerification.SuccessNotificationHeading"});break;case"sendEmail":n.text=e({id:"EmailCollection.sendSuccessNotificationContent"}),n.title=e({id:"EmailCollection.sendSuccessNotificationHeading"});break;case"verifyEmail":n.text=e({id:"EmailCollection.verifySuccessNotificationContent"}),n.title=e({id:"EmailCollection.verifySuccessNotificationHeading"});break;case"verifyTinderU":n.text=e({id:"TinderU.notificationBody"}),n.title=e({id:"TinderU.notificationTitle"}),n.icon=ot;break;default:n.text=e({id:"Notification.defaultTitle"}),n.title=e({id:"tinder"})}return n}},{key:"getVerifyErrorContent",value:function(t){var e=this.props.intl.formatMessage,i=t.getIn(["options","verificationType"]),n={item:t};switch(i){case"sms":n.text=e({id:"FacebookPhoneVerification.ErrorNotificationContent"}),n.title=e({id:"FacebookPhoneVerification.ErrorNotificationHeading"});break;case"verifyEmail":case"verifyTinderU":n.text=e({id:"EmailCollection.verifyErrorNotificationContent"}),n.title=e({id:"somethingWentWrong"});break;default:n.text=e({id:"Notification.defaultTitle"}),n.title=e({id:"tinder"})}return n}},{key:"getNotificationContent",value:function(t){var e=this.props.intl.formatMessage,i=t.getIn(["options","shouldTranslate"]),n={item:t,text:this.getTranslationText(t.getIn(["options","text"]),i,t.getIn(["options","textValues"],M.b).toJS())||e({id:"Notification.defaultTitle"}),title:this.getTranslationText(t.get("title"),i)||e({id:"tinder"})};switch(t.get("subtype")){case O.m.NEW_MATCHES:n=this.getNewMatchContent(t);break;case O.m.LIKED_MESSAGE:n=this.getUserLikedContent(t);break;case O.m.NEW_MESSAGES:n=this.getNewMessageContent(t);break;case O.m.ERROR:n.text=e({id:t.getIn(["options","text"],"pleaseTryAgain")}),n.title=e({id:t.getIn(["options","title"],"uhOhSomethingWentWrong")});break;case O.m.VERIFY:n=this.getVerifyContent(t);break;case O.m.VERIFY_ERROR:n=this.getVerifyErrorContent(t);break;case O.m.GOLD:n.text=e({id:t.getIn(["options","text"])},{discount:t.getIn(["options","discountPercentage"])})}return n}},{key:"render",value:function(){var t=this.state.items;return o()(j.d,{className:"notificationManager Pos(f) T(0) Start(0) End(0) Z(2)",i13nModel:{category:A.M}},void 0,t&&t.size&&this.renderInAppNotifications(t))}}]),e})(N.PureComponent),st={openModal:B.b,removeNotification:E.f,showNotification:E.j};e.default=Object(k.c)(Object(x.c)((function(t){return{currentPath:Object(I.a)(t),items:Object(P.b)(t),newFlags:Object(S.i)(t),recentlyMatchedMatchIds:Object(C.getRecentlyMatchedMatchIds)(t)}}),st)(at))}}]);