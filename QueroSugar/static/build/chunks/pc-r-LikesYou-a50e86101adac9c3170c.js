/*! {Â© 2016 - 2020 Tinder, Inc., ALL RIGHTS RESERVED} */
(window.webpackJsonp=window.webpackJsonp||[]).push([[229],{1140:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n(37),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Bxsh($bxsh-btn)",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(i.a)(t,"Expand D(b) Bgc(#fff)",{"Trstf(e) Trsdu($normal) Wc($transform) Pe(a)":e,"Scale(1.1):h Scale(.9):a":e&&!n,"Pos(r) Pe(n)":!e})},a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(i.a)("Mx(a) Fxs(0)",{"Sq(60px) Sq(48px)--s":!e,"Sq(70px) Sq(60px)--s":e})}},1181:function(e,t,n){"use strict";var i=n(7),o=n.n(i),a=n(16),s=n.n(a),r=n(26),l=n.n(r),c=n(24),d=n.n(c),u=n(23),p=n.n(u),h=n(19),f=n.n(h),m=n(27),v=n.n(m),g=n(1),b=n.n(g),O=n(5),k=n.n(O),y=n(58),S=n(37),P=(n(598),n(46)),R=n.n(P),E=n(247),T=n(1123),w=n(448),C=n(1200),x=n(72),j=n(55),M=n(25),D=n(386),A=n(159),B=n(459),N=n(50),L=n(126),F=n(4),I=n(21),_=n(85),U=n(1140),G=n(245),W=n.n(G),z=n(295),H=n.n(z),$=n(32),Y=n(10),q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(Math.max(e,n),t).toFixed(1)},J=function(e,t,n){var i=e+n*(t-e);return Math.max(i,1)},Z=function(e,t,n){return 1-(t-e)/n},V=function(e,t,n,i){var o=Date.now(),a=t-e,s=e.getTime()+1e4,r=Z(o,t.getTime(),a),l=.14*Math.random()*(2*Math.random()<1?-1:1),c=(function(e,t){return e*t})(n,(function(e){return e?.98:.8})(i)),d=J(c,n,r);if(s-o>0){var u=Z(o,s,1e4),p=J(1,d,u);return q(p+l,d)}return q(d+l,n)},X=[-.1,.1,-.1,-.1,.1,-.1,-.1,.1,.1,.1,.1,-.1],K=[0,0,0,1,1,1,0,0,1,0,1,1],Q=(function(){function e(){s()(this,e);var t=1/256;this.amplitude=.1,this.period=10,this.phase=Math.PI/2,this.position=[0,-.7],this.velocity=.005+Math.random()/400,this.dead=!1,Math.random()>.5?this.color=[236*t,48*t,133*t]:this.color=[173*t,65*t,167*t],Math.random()>.5&&(this.phase=.5-this.phase)}return l()(e,[{key:"angle",value:function(){return this.period*this.position[1]+this.phase}}]),e})(),ee=(function(){function e(t,n,i,o){s()(this,e);try{var a=t.querySelector("canvas");if(this.gl=a.getContext("webgl")||a.getContext("experimental-webgl"),!this.gl)return void Object(Y.b)("Browser not supported!");this.img=t.querySelector("svg"),this.label=t.querySelector("label"),this.div=t.querySelector("div"),this.onUpdate=o,a.style.width="".concat(n,"px"),a.style.height="".concat(i,"px"),a.width=a.clientWidth*window.devicePixelRatio,a.height=a.clientHeight*window.devicePixelRatio,a.style.left="".concat(n/-2+.05*n,"px");var r=a.height/a.width,l=te(this.gl,this.gl.VERTEX_SHADER,"\n  attribute vec2 a_shape;\n  attribute vec2 a_texcoord;\n\n  uniform float u_ratio;\n  uniform float u_rotation;\n  uniform vec2 u_position;\n\n  varying float v_position;\n  varying vec2 v_texcoord;\n\n  mat4 rotate(float a);\n  mat4 translate(float x, float y);\n\n  void main()\n  {\n    mat4 r = rotate(u_rotation);\n    mat4 t = translate(u_position.x, u_position.y);\n\n    v_position = u_position.y;\n    v_texcoord = a_texcoord;\n\n    float x = a_shape.x * u_ratio;\n\n    gl_Position = vec4(x, a_shape.y, 1.0, 1.0) * r * t;\n  }\n\n  mat4 translate(float x, float y)\n  {\n    return mat4(\n      vec4(1.0, 0.0, 0.0,   x),\n      vec4(0.0, 1.0, 0.0,   y),\n      vec4(0.0, 0.0, 1.0, 0.0),\n      vec4(0.0, 0.0, 0.0, 1.0)\n    );\n  }\n\n  mat4 rotate(float a)\n  {\n    float c = cos(a);\n    float s = sin(a);\n\n    return mat4(\n      vec4(  c,  -s, 0.0, 0.0),\n      vec4(  s,   c, 0.0, 0.0),\n      vec4(0.0, 0.0, 1.0, 0.0),\n      vec4(0.0, 0.0, 0.0, 1.0)\n    );\n  }\n"),c=te(this.gl,this.gl.FRAGMENT_SHADER,"\n  precision mediump float;\n\n  uniform sampler2D u_texture;\n  uniform vec3 u_color;\n\n  varying float v_position;\n  varying vec2 v_texcoord;\n\n  void main()\n  {\n    float opacity = texture2D(u_texture, v_texcoord).a;\n\n    if (v_position > 0.0)\n      opacity -= v_position * 2.5;\n\n    if (opacity < 0.4)\n      opacity = 0.0;\n\n    gl_FragColor = vec4(u_color, opacity);\n  }\n");if(this.program=this.gl.createProgram(),this.gl.attachShader(this.program,l),this.gl.attachShader(this.program,c),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS)){var d=this.gl.getProgramInfoLog(this.program);this.gl.deleteProgram(this.program),Object(Y.b)("Failed to link program: ".concat(d))}this.gl.useProgram(this.program),this.gl.viewport(0,0,a.width,a.height),this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.count=0,this.particles=[],this.viewTimeout=20,ie(this.gl,this.program,"u_ratio",r),this.frames=0,this.lastFrame=0}catch(e){Object(Y.b)("Failed to initialize animation renderer: ".concat(e))}}return l()(e,[{key:"loadTexture",value:function(e){var t=this;return new Promise((function(n,i){var o=new Image;o.addEventListener("error",(function(){return i(Object($.default)(!1))})),o.addEventListener("load",(function(){if(t.gl){var e=t.gl.createTexture();t.gl.bindTexture(t.gl.TEXTURE_2D,e),t.gl.texParameteri(t.gl.TEXTURE_2D,t.gl.TEXTURE_MAG_FILTER,t.gl.LINEAR),t.gl.texImage2D(t.gl.TEXTURE_2D,0,t.gl.RGBA,t.gl.RGBA,t.gl.UNSIGNED_BYTE,(function(e){if(oe(e.width)&&oe(e.height))return e;var t=document.createElement("canvas");return t.width=ae(e.width),t.height=ae(e.height),t.getContext("2d").drawImage(e,0,0,e.width,e.height),t})(o)),t.gl.generateMipmap(t.gl.TEXTURE_2D),ne(t.gl,t.program,"a_texcoord",K,2),ne(t.gl,t.program,"a_shape",X,2),n()}else n()})),o.src=e}))}},{key:"drawFrame",value:function(e){var t=this;this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(var n=0;n<this.particles.length;n+=1){var i=this.particles[n],o=i.angle(),a=i.amplitude*Math.sin(o);i.position[1]+=i.velocity,i.position[0]=i.amplitude*Math.cos(o)-.02,i.amplitude+=.001,i.position[1]>1.2&&(i.dead=!0),ie(this.gl,this.program,"u_rotation",a),ie(this.gl,this.program,"u_color",i.color),ie(this.gl,this.program,"u_position",i.position),this.gl.drawArrays(this.gl.TRIANGLES,0,X.length/2)}this.particles.forEach((function(e,n){return e.dead&&t.particles.splice(n,1)})),this.particleTimeout-=1,this.particleTimeout||(this.running&&this.particles.push(new Q),this.particleTimeout=60-10*Math.random()|0),this.viewsTimeout-=1;var s=V(this.start,this.end,this.multiplier,this.isSuperBoost);if(this.viewsTimeout||(this.label.textContent="".concat(s,"x"),this.viewsTimeout=24),this.frames+=1,this.lastFrame=e,!this.running&&this.div.style.opacity>0&&(this.div.style.opacity-=.1),this.particles.length){if(this.running){var r=(Date.now()-this.start)/(this.end-this.start);r>=1&&(this.stop(),r=1),this.onUpdate((100*r).toFixed(3))}H()((function(e){return t.drawFrame(e)}))}}},{key:"run",value:function(e,t,n,i){var o=this;this.start=e,this.end=t,this.multiplier=n,this.isSuperBoost=i,this.running||(this.running=!0,H()((function(){o.div&&(o.div.style.opacity=1),o.img&&(o.img.style.display="none"),o.label&&(o.label.style.display="block")})),this.particles.length||(this.particles=[new Q],this.particleTimeout=60,this.drawFrame(W()())))}},{key:"stop",value:function(){var e=this;this.running&&(this.running=!1,H()((function(){e.label&&(e.label.style.display="none"),e.img&&(e.img.style.display="inline"),e.div&&(e.div.style.opacity=1)})))}}]),e})();function te(e,t,n){var i=e.createShader(t);if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){e.getShaderInfoLog(i);e.deleteShader(i),Object($.default)(!1)}return i}function ne(e,t,n,i,o){var a=e.createBuffer(),s=e.getAttribLocation(t,n);~s||Object($.default)(!1),e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW),e.enableVertexAttribArray(s),e.vertexAttribPointer(s,o,e.FLOAT,!1,0,0)}function ie(e,t,n,i){var o=e.getUniformLocation(t,n);o?Array.isArray(i)?2===i.length?e.uniform2fv(o,new Float32Array(i)):e.uniform3fv(o,new Float32Array(i)):e.uniform1f(o,i):Object(Y.b)("Failed to get uniform location: ".concat(n))}function oe(e){return 0==(e&e-1)}function ae(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1}var se=o()("label",{className:"boostButtonWrapper__multiplier D(n) Tt(n) C($c-purple)"}),re=(function(e){function t(e){var n;return s()(this,t),n=d()(this,p()(t).call(this,e)),b()(f()(n),"state",{percentage:0}),b()(f()(n),"createAnimation",(function(){n.animation||(n.animation=new ee(n.el,n.canvasWidth,n.canvasHeight,(function(e){return n.setState({percentage:e})})))})),b()(f()(n),"loadTexture",(function(e){n.animation&&(n.loaded?e(n.props.currentPath):n.animation.loadTexture("/static/heart.png").then((function(){n.loaded=!0,e(n.props.currentPath)})))})),b()(f()(n),"startAnimation",(function(){var e=n.props,t=e.expiresAt,i=e.duration,o=e.multiplier,a=e.isSuperBoost;if(t&&i&&t>Date.now()){var s=new Date(t-i),r=new Date(t);n.animation.run(s,r,o,a)}})),b()(f()(n),"handleStartBoost",(function(){n.createAnimation(),n.loadTexture(n.props.startBoost)})),b()(f()(n),"handleAcceptFirstTimeBoost",(function(){n.props.sendBoostTutorialViewed(),n.handleStartBoost()})),b()(f()(n),"handleFirstTimeBoost",(function(){var e=n.props,t=e.hasPlus,i=e.boostRefreshIntervalUnit,o=e.numBoosts,a=e.duration;n.props.openModal(j.l,{props:{handleAccept:n.handleAcceptFirstTimeBoost,refreshIntervalUnit:i,numBoosts:o,duration:a}}),n.props.trackEvent(F.F,{hasPlus:t})})),b()(f()(n),"handleActiveBoost",(function(){var e=n.props,t=e.hasPlus,i=e.multiplier,o=e.remaining,a=e.boostId,s=e.expiresAt,r=e.isSuperBoost,l=n.state.percentage;r?n.props.openModal(j.c,{props:{expiresAt:s,multiplier:i,progress:l}}):n.props.openModal(j.b,{props:{handleAccept:R.a,expiresAt:s}}),n.props.trackEvent(F.C,{hasPlus:t,boostId:a,boostMultiplier:i,boostRemaining:o})})),b()(f()(n),"openBoostPaywall",(function(){n.props.openModal(j.m,{props:{hasPlus:n.props.hasPlus,from:_.a}})})),b()(f()(n),"handleBoost",(function(){var e=n.props,t=e.disabled,i=e.expiresAt,o=e.remaining,a=e.tutorials,s=n.getIsBoosting();if(!t||s){var r=a.includes("boost_tutorial"),l=!i||i<Date.now();s?n.handleActiveBoost():0===o?n.openBoostPaywall():r?n.handleFirstTimeBoost():l&&n.handleStartBoost()}})),b()(f()(n),"setRef",(function(e){n.el=e})),n.animation=null,n.loaded=!1,n.canvasWidth=480,n.canvasHeight=360,n}return v()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.props.isMobile&&(this.canvasWidth*=.75,this.canvasHeight*=.75),this.shouldAnimate()&&(this.createAnimation(),this.loadTexture(this.startAnimation))}},{key:"componentDidUpdate",value:function(){this.shouldAnimate()&&(this.animation?this.startAnimation():(this.createAnimation(),this.loadTexture(this.startAnimation)))}},{key:"componentWillUnmount",value:function(){this.animation&&(this.animation.stop(),this.animation=null)}},{key:"shouldAnimate",value:function(){var e=this.props,t=e.expiresAt,n=e.isOnboarding,i=e.isOnActiveBoostModal;return t&&!n&&!i}},{key:"getIsBoosting",value:function(){return this.props.expiresAt&&this.props.expiresAt>Date.now()}},{key:"render",value:function(){var e=this.getIsBoosting(),t=this.state.percentage;return o()("div",{className:Object(S.a)(Object(U.b)(),"D(ib) Pos(r) Pe(n)",this.props.className)},void 0,k.a.createElement("div",{className:"Expand",ref:this.setRef},o()(w.a,{"aria-label":this.props.intl.formatMessage({id:"boost"}),className:Object(S.a)(Object(U.a)(!this.props.disabled||e,void 0,e),"Mstart(0) Pe(a) Pos(r)",this.props.buttonClassName),size:"custom",shape:"round",onClick:this.handleBoost,disabled:this.props.disabled&&!e,wrapText:!1,i13nModel:{label:"BoostButton"}},"boostButton",o()(T.a,{className:this.props.iconClassName,fill:this.props.fill}),se),e?o()(C.a,{"aria-live":"polite","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":t,className:"D(b) CenterAlignOverlay Sq(60px)--s Sq(72px) Z(2)",percentage:t,role:"progressbar",strokeColor:"#7c48c3",strokeWidth:2}):null,o()("canvas",{className:"boostButtonWrapper__canvas Z(1) Pos(a) B(0) Start(0)--s",style:{imageRendering:"auto",msInterpolationMode:"nearest-neighbor"}})))}}]),t})(O.PureComponent);b()(re,"defaultProps",{className:"","data-testid":"boostButton",disabled:!1,buttonClassName:"",isOnActiveBoostModal:!1,multiplier:8});var le={startBoost:B.e,openModal:N.b,sendBoostTutorialViewed:B.c,trackEvent:I.a};t.a=Object(y.c)((function(e){var t=Object(A.e)(e),n=t?Object(x.t)(e):Object(x.b)(e);return{isMobile:Object(x.k)(e),tutorials:Object(M.ob)(e),numBoosts:Object(A.a)(e),boostRefreshIntervalUnit:Object(A.j)(e),expiresAt:Object(A.b)(e),boostResetsAt:Object(A.m)(e),remaining:Object(A.k)(e),multiplier:Object(A.g)(e),boostId:Object(A.c)(e),currentPath:Object(L.a)(e),hasPlus:Object(M.H)(e),isOnboarding:Object(D.b)(e),isSuperBoost:t,duration:n}}),le)(Object(E.c)(re))},1262:function(e,t,n){"use strict";var i=n(7),o=n.n(i),a=n(16),s=n.n(a),r=n(26),l=n.n(r),c=n(24),d=n.n(c),u=n(23),p=n.n(u),h=n(19),f=n.n(h),m=n(27),v=n.n(m),g=n(1),b=n.n(g),O=n(5),k=n(37),y=n(58),S=n(461),P=n(1232),R=n(1157),E=n(1203),T=n(297),w=n(4),C=n(21),x=(function(e){function t(e){var n;return s()(this,t),n=d()(this,p()(t).call(this,e)),b()(f()(n),"handleClose",(function(){n.props.onProfileCardClose(n.props.currentOpenedRecProfile,n.state.activePhotoIndex)})),b()(f()(n),"handleGamePadClickLike",(function(){var e=n.props.currentOpenedRecProfile,t=n.state.activePhotoIndex,i=e.getIn(["photos",t]),o=i?i.get("id",""):"";n.props.onLike(e,o)})),b()(f()(n),"handleGamePadClickDislike",(function(){n.props.onDislike(n.props.currentOpenedRecProfile)})),b()(f()(n),"handleGamePadClickSuperlike",(function(){n.props.onSuperlike(n.props.currentOpenedRecProfile)})),b()(f()(n),"handlePhotoChange",(function(e){n.setState({activePhotoIndex:e})})),n.state={activePhotoIndex:e.currentOpenedRecProfile.get("activePhotoIndex")||0},n}return v()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props.currentOpenedRecProfile;e&&this.props.trackEvent(w.Ob,{otherId:e.get("id")})}},{key:"componentWillUnmount",value:function(){var e=this.props.currentOpenedRecProfile;e&&this.props.trackEvent(w.Nb,{otherId:e.get("id")})}},{key:"render",value:function(){var e=this.props,t=e.backLinkUrl,n=e.className,i=e.currentOpenedRecProfile,a=e.loggedInUserSchools,s=e.loggedInUserJobs,r=e.loggedInUserGender,l=Object(T.c)(i);return o()("div",{className:Object(k.a)("CenterAlign Fld(c) H(100%) Pos(a) T(0) W(100%)",n)},void 0,o()(S.a,{},void 0,o()(P.a,{className:"Bdf($overlay-blur)",onClick:this.handleClose,opacity:.85})),o()("div",{className:"Mt(15px)--ml Mb(92px)--ml NetMaxHeight(100vh,130px)!--ml Expand--s"},void 0,o()(R.a,{loggedInUserSchools:a,loggedInUserJobs:s,loggedInUserGender:r,recUser:i,isVerified:Object(T.d)(i),isBoostMatch:Object(T.a)(i),isSuperBoostMatch:Object(T.b)(i),isSuperLike:l,anthem:Object(T.g)(i),artists:Object(T.h)(i),onClose:this.handleClose,onReported:this.handleGamePadClickDislike,onPhotoChange:this.handlePhotoChange,backLinkUrl:t,gamepadPosition:E.a.underCard,isProfileCardOverlay:!0,showGamepad:!0,recLike:this.handleGamePadClickLike,recDislike:this.handleGamePadClickDislike,recSuperlike:this.handleGamePadClickSuperlike})))}}]),t})(O.PureComponent),j={trackEvent:C.a};t.a=Object(y.c)(null,j)(x)},1263:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var i=n(1),o=n.n(i),a=n(168),s=n(2);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=Object(s.a)("UPDATE_PROFILE_ENTITY_ACTIVE_PHOTO",(function(e,t){return u(e,{activePhotoIndex:t})})),d=Object(s.a)("UPDATE_PROFILE_ENTITY_CONFIRMED_STATUS",(function(e,t){return u(e,{confirmedStatus:t})})),u=function(e,t){return{entities:o()({},a.b,o()({},e.get("id"),l({},e.toJS(),{},t)))}}},1280:function(e,t,n){"use strict";var i=n(7),o=n.n(i),a=n(1),s=n.n(a),r=n(42),l=n.n(r),c=n(5),d=n.n(c),u=n(436),p=n(37),h=n(6),f=n.n(h),m=n(320),v=n.n(m),g=n(134),b=n.n(g),O=(n(994),{});t.a=function(e){var t,n=e.className,i=e.count,a=e.countColor,r=e.disabled,h=void 0!==r&&r,m=e.front,g=e.namespace,k=void 0===g?"tinder.namespace":g,y=Object(u.a)().formatMessage,S=Object(c.useRef)(null),P=Object(c.useState)(!1),R=l()(P,2),E=R[0],T=R[1],w=Number.isInteger(i),C=w?Math.min(99,i):0,x=Object(c.useCallback)((function(e){"flipToReval"===e.animationName&&T(!1)}),[]),j=Object(c.useCallback)((function(e){b()(O,[k],i),T(e)}),[i,k]);return Object(c.useEffect)((function(){var e=S.current;return e&&e.addEventListener("animationend",x),function(){e&&e.removeEventListener("animationend",x)}}),[x]),Object(c.useEffect)((function(){if(w){var e=f()(O,[k]);if(e===i)return;j(!v()(e)||!!i)}}),[i,k,j,w]),o()("div",{className:Object(p.a)("Expand",{"Prs(1000px)":!h})},void 0,d.a.createElement("div",{className:Object(p.a)("Pos(r) Expand",(t={},s()(t,"flip-button-animation",E),s()(t,"Trfs(p) Animdur(2s) Animtf(eio) Animdel($normal)",!h),t)),ref:S},o()("div",{className:Object(p.a)("Expand Bdrs(50%)",n,{"Bfv(h)":!h})},void 0,m),w?o()("span",{className:Object(p.a)("Bfv(h) Bdrs(50%) Bgc(#fff) Bxsh($bxsh-btn) StretchedBox Fw($bold) Fz($l)","RotateY(180deg) CenterAlign",a),"aria-label":y({id:"ICU.numRemaining"},{number:i})},void 0,C,(i||0)>99?"+":""):null))}},1599:function(e,t,n){"use strict";n.r(t);var i=n(70),o=n.n(i),a=n(7),s=n.n(a),r=n(16),l=n.n(r),c=n(26),d=n.n(c),u=n(24),p=n.n(u),h=n(23),f=n.n(h),m=n(19),v=n.n(m),g=n(27),b=n.n(g),O=n(1),k=n.n(O),y=n(158),S=n.n(y),P=n(5),R=n.n(P),E=n(58),T=n(204),w=n(296),C=n(37),x=n(57),j=n(113),M=n(118),D=n(8),A=n(50),B=n(44),N=n(55),L=n(85),F=n(159),I=n(105),_=n(25),U=n(212),G=n(1263),W=n(384),z=n(65),H=n(21),$=n(1326),Y="Z(2)",q="Z(3)",J="Z(3)--s",Z="Z(3)",V=n(144),X=n(448),K=n(1140),Q=n(1181),ee=n(1262),te=n(46),ne=n.n(te),ie=n(117),oe=n(1125),ae=n(1120),se=n(1136),re=n(1161),le=function(e){return e.stopPropagation()},ce=s()(se.a,{className:"Sq(36px) Mend(8px)"}),de=s()("span",{className:"Hidden"},void 0,s()(T.a,{id:"back"})),ue=s()(V.e,{},void 0,s()(oe.a,{})),pe=s()(V.b,{},void 0,s()(ae.a,{className:"Sq(20px)",pathClassName:"Fill($c-gray)"})),he=function(e){var t=e.likesYouCount,n=e.onClick,i=e.fastMatchesLoaded,o=e.likesYouCountIsRange;return s()(ie.g,{className:Object(C.a)("likesYou__navBar W(100%) CenterAlign","hideNav_TranslateY(-100%)--s Trsdu($normal)--s Trsp($transform)--s","Bgc(#fff) BdB--ml Bdc($c-divider)--ml","Px(28px)--ml","Px(10px)--s Pos(a)--s T(0)--s Start(0)--s Wc($transform)--s",J),onClick:n,i13nModel:{label:"LikesYouNav"}},void 0,s()("div",{className:"W(100%) Pos(r) D(f) Ai(c) Jc(c)--s"},void 0,ce,i&&s()("span",{className:"Fz($ml)--ml Fz($m)--s Fw($bold)"},void 0,s()(re.a,{count:t,isRange:o})),s()(ie.f,{i13nModel:{message:"Back"},to:Object(D.c)("matches"),className:"Pos(a) End(0)",onClick:le},void 0,de,ue,pe)))};he.defaultProps={likesYouCount:0,onClick:ne.a,fastMatchesLoaded:!1,likesYouCountIsRange:!1};var fe=Object(P.memo)(he),me=n(1135),ve=n(1250),ge=n(1208),be=(n(12),n(989)),Oe=n(988),ke=n(457),ye=s()("div",{className:"C($c-divider)"},void 0,s()(se.a,{fill:"",className:"Sq(60px)"})),Se=Object(P.memo)((function(e){var t=e.showTeasersGrid,n=void 0!==t&&t;return s()("div",{className:"CenterAlign Flx($flx1) Fld(c)"},void 0,ye,s()("div",{className:"C($c-secondary) Fz($m) My(28px) Ta(c) Maw(80%)"},void 0,s()(T.a,{id:n?"TinderGold.upgradeDescription":"TinderGold.zeroLikesSubSubtitle"})))})),Pe=n(1353),Re=n(206),Ee=n(264),Te=s()("div",{className:"Expand Bgc($c-placeholder) Bdrs(8px) Bxsh($bxsh-card)"}),we=Object(P.memo)((function(){return Te}),(function(){return!0})),Ce=s()(we,{}),xe=function(e){var t=e.appearAnimDelay,n=void 0===t?0:t,i=e.className,o=e.style,a=e.onClick,r=void 0===a?ne.a:a,l=e.children,c=void 0===l?Ce:l;return s()("div",{className:Object(C.a)("Pos(a) Trs($transform) Trsdu($fast) Cur(p)",i),style:o,onClick:r},void 0,s()("div",{className:"Expand enterAnimationContainer",style:{transition:"opacity .25s ".concat(n,"ms, transform .25s ").concat(n,"ms"),WebkitTransition:"opacity .25s ".concat(n,"ms, -webkit-transform .25s ").concat(n,"ms"),msTransition:"opacity .25s ".concat(n,"ms, -ms-transform .25s ").concat(n,"ms"),MozTransition:"opacity .25s ".concat(n,"ms, -moz-transform .25s ").concat(n,"ms")}},void 0,c))},je=(function(e){function t(){var e,n;l()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=p()(this,(e=f()(t)).call.apply(e,[this].concat(o))),k()(v()(n),"state",{atRest:!0}),k()(v()(n),"handleAtRest",(function(){n.setState({atRest:!0})})),k()(v()(n),"handleDragStart",(function(){n.props.onDragStart&&n.props.onDragStart(),n.setState({atRest:!1})})),k()(v()(n),"handleDragEnd",(function(){n.props.onDragEnd&&n.props.onDragEnd()})),k()(v()(n),"handleLike",(function(){n.props.onLike(n.props.recUser)})),k()(v()(n),"handleDislike",(function(){n.props.onDislike(n.props.recUser)})),k()(v()(n),"handleClickRec",(function(){n.props.onClickRec(n.props.recUser)})),n}return b()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e,t){return!Object(Ee.a)(this.props,e,["positionStyle"],!0)||!Object(Re.a)(this.state,t)}},{key:"render",value:function(){var e=this.props,t=e.appearAnimDelay,n=e.isSpotifyEnabled,i=e.isSwipeNoteReceiveEnabled,o=e.isReactionsReceiveEnabled,a=e.positionStyle,r=e.recUser,l=e.trackEvent;return s()(xe,{className:Object(C.a)(k()({},Y,!this.state.atRest||r&&r.get("confirmedStatus"))),style:a,appearAnimDelay:t},void 0,r?s()(Pe.a,{deferLoadUntilInViewport:!0,dislike:this.handleDislike,isLikesYou:!0,isSpotifyEnabled:n,isSwipeNoteReceiveEnabled:i,isReactionsReceiveEnabled:o,like:this.handleLike,onAtRest:this.handleAtRest,onClick:this.handleClickRec,onDragEnd:this.handleDragEnd,onDragStart:this.handleDragStart,recUser:r,showInfoIcon:!1,teaserCountLimit:1,trackEvent:l}):void 0)}}]),t})(P.Component);k()(je,"defaultProps",{appearAnimDelay:0,isSpotifyEnabled:!0,onDragEnd:ne.a,onDragStart:ne.a,recUser:null});var Me=je,De=n(6),Ae=n.n(De),Be=n(1325),Ne=n(449),Le=n(1110),Fe=n(51),Ie=n(53),_e=n(71);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Ge=s()("div",{className:"H(8px) Bgc(#fff.6) W(60%) Bdrs(8px) My(8px)"}),We=s()("div",{className:"H(8px) Bgc($c-divider) Op(.4) W(50%) Bdrs(8px) Mt(8px) Mb(8px)--s"}),ze=Object(P.memo)((function(e){var t=e.appearAnimDelay,n=e.onClickRec,i=e.positionStyle,o=e.recUser,a=void 0===o?Ie.b:o,r=a.get("photos",Ie.a),l=Object(_e.a)(a,"recently_active"),c=Object(P.useCallback)((function(){return r.map((function(e){var t=e.get("processedFiles",Ie.a).size;return (function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({id:e.get("id"),urls:Object(Fe.r)(e,[t-1])},Object(Le.g)(e))}))}),[r])().last(),d=Ae()(c,"urls"),u="Pos(a) B(0) Start(0) End(0) P(20px)--l P(10px)--m P(5px)--s";return s()(xe,{appearAnimDelay:t,onClick:n,style:i},void 0,d?s()(P.Fragment,{},void 0,s()(Ne.a,{className:Object(C.a)("Bdrs(8px) Bgz(cv) Bgp(c) Ov(h) StretchedBox Ir(p)","Cnt($blank)::a StretchedBox::a Bg($inherit)::a","Scale(1.3)::a Scale(1.2)::a--s Blur(12px)::a"),deferLoadUntilInViewport:!0,intendedAspectRatio:.725,interestBottom:c.interestBottom,interestLeft:c.interestLeft,interestRight:c.interestRight,interestTop:c.interestTop,urls:d}),l?s()(Be.a,{className:u}):s()("div",{className:u},void 0,Ge,We)):void 0)})),He=s()("div",{className:"Ta(c)--s Mx(a)--s Mt(20px) Maw(80%) Fz($m) Fz($s)--s C($c-secondary)--ml"},void 0,s()(T.a,{id:"TinderGold.upgradeDescription"})),$e=s()("div",{className:"CenterAlign Expand"},void 0,s()(ke.a,{})),Ye=(function(e){function t(){var e,n;l()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=p()(this,(e=f()(t)).call.apply(e,[this].concat(o))),k()(v()(n),"windowWidth",window.innerWidth),k()(v()(n),"handleWindowResize",(function(){n.windowWidth=window.innerWidth})),n}return b()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.resizeHandler=Object(w.b)("resize",this.handleWindowResize,{eventOptions:{passive:!0}})}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,i=n.minRecDisplayCount,o=n.minRecsToFillGrid,a=e.recUsers.size;(a>this.props.recUsers.size&&this.props.onEndReached(),a<=i&&this.props.onMinRecCountDisplayed(),a<o)&&setTimeout((function(){t.props.onMinRecCountDisplayed()}),a<=20?120*a:0)}},{key:"componentWillUnmount",value:function(){this.resizeHandler&&this.resizeHandler.unsubscribe()}},{key:"getElementPositionStyleByIndex",value:function(e){var t=this.props,n=t.colCount,i=t.itemWidth,o=t.itemHeight,a=t.gutter,s=t.padding,r=t.units,l="".concat(e%n*(i+a)).concat(r),c="".concat(this.calculateYPos(e)).concat(r);return{transform:"translate(".concat(l,", ").concat(c,")"),height:"".concat(o).concat(r),width:"".concat(i).concat(r),marginBottom:"".concat(s).concat(r),marginTop:"".concat(s).concat(r)}}},{key:"calculateYPos",value:function(e){var t=this.props,n=t.colCount,i=t.itemHeight,o=t.gutter;return n?Math.floor(e/n)*(i+o):0}},{key:"render",value:function(){var e=this,t=this.props,n=t.fastMatchesLoaded,i=t.handleClickRec,o=t.isSpotifyEnabled,a=t.isSwipeNoteReceiveEnabled,r=t.isReactionsReceiveEnabled,l=t.onDislike,c=t.onLike,d=t.recUsers,u=t.scrollerScrollTop,p=t.showTeasersGrid,h=t.showPlaceholders,f=t.trackEvent,m=t.units,v=d.size<=20;return n&&h?s()(Se,{showTeasersGrid:p}):s()(P.Fragment,{},void 0,n?s()(P.Fragment,{},void 0,p&&He,s()(be.a,{component:null,appear:!0,enter:!0,exit:!1},void 0,d.map((function(t,n){var d=v?120*n:0,h=v?"slide-up-fade-in":"fade-in",g=t&&t.get("id"),b="px"===m?e.calculateYPos(n):e.calculateYPos(n)*(e.windowWidth/100),O=Math.abs(b-u)<=12e3,k=p?ze:Me;return O&&s()(Oe.a,{classNames:h,timeout:{enter:1,appear:1}},g||n,s()(k,{appearAnimDelay:d,isSpotifyEnabled:o,isSwipeNoteReceiveEnabled:a,isReactionsReceiveEnabled:r,onClickRec:i,onDislike:l,onDragEnd:e.props.onDragEnd,onDragStart:e.props.onDragStart,onLike:c,positionStyle:e.getElementPositionStyleByIndex(n),recUser:t,trackEvent:f}))})))):$e)}}]),t})(P.PureComponent);k()(Ye,"defaultProps",{colCount:1,fastMatchesLoaded:!1,gutter:0,handleClickRec:ne.a,isSpotifyEnabled:!0,itemHeight:0,itemWidth:0,minRecDisplayCount:9,minRecsToFillGrid:20,onDragEnd:ne.a,onDragStart:ne.a,onEndReached:ne.a,padding:0,showTeasersGrid:!1,showPlaceholders:!1,units:"px"});var qe=Ye,Je=s()(ve.a,{}),Ze=(function(e){function t(e){var n;return l()(this,t),n=p()(this,f()(t).call(this,e)),k()(v()(n),"handleScroll",(function(){if(n.props.onScroll&&n.scrollElement){var e=n.scrollElement,t=e.scrollTop,i=void 0===t?0:t,o=e.clientHeight+i===e.scrollHeight;n.props.onScroll(i,i>n.lastScroll,o),n.lastScroll=i;var a=1e4*Math.floor(n.lastScroll/1e4);n.setState({scrollTop:a})}})),k()(v()(n),"handleDragStart",(function(){n.scrollElement&&n.props.preventScrollOnDrag&&!n.state.disableScroll&&(n.scrollElement.addEventListener("touchmove",me.a),n.setState({disableScroll:!0}))})),k()(v()(n),"handleDragEnd",(function(){n.scrollElement&&n.props.preventScrollOnDrag&&n.state.disableScroll&&(n.scrollElement.removeEventListener("touchmove",me.a),n.setState({disableScroll:!1}))})),k()(v()(n),"handleFlashAnimationEnd",(function(){n.setState({flashAnimation:!1})})),k()(v()(n),"getRef",(function(e){n.scrollElement=e})),k()(v()(n),"caculateTop",(function(){var e=n.props,t=e.recUsers,i=e.colCount,o=e.itemHeight,a=e.gutter,s=e.units;if(t&&t.size)return"".concat(Math.floor((t.size-1)/i)*(o+a)+1.1*o).concat(s)})),k()(v()(n),"renderScroller",(function(){var e=n.props,t=e.fastMatchesLoading,i=e.reachedEndOfList,o=e.showPlaceholders;return!i&&!o&&s()("div",{className:"Pos(a) W(100%) Mb(68px)--s Mb(80px)--ml CenterAlign",style:{top:n.caculateTop()}},void 0,t&&Je)})),n.lastScroll=0,n.scrollSubscription=null,n.state={disableScroll:!1,flashAnimation:!1,scrollTop:0},n}return b()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.scrollElement&&(this.scrollElement.addEventListener("animationend",this.handleFlashAnimationEnd),this.scrollSubscription=Object(w.b)("scroll",this.handleScroll,{target:this.scrollElement,eventOptions:{passive:!0,throttleRate:150}}))}},{key:"componentWillReceiveProps",value:function(e){!this.props.scrollToTop&&e.scrollToTop&&this.scrollElement&&(this.scrollElement.scrollTop=0),e.lastFastMatch!==this.props.lastFastMatch&&this.setState({flashAnimation:!0})}},{key:"componentWillUnmount",value:function(){this.scrollElement&&(this.scrollElement.removeEventListener("animationend",this.handleFlashAnimationEnd),this.scrollElement.removeEventListener("touchmove",me.a)),this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}},{key:"calculateWidth",value:function(){var e=this.props,t=e.colCount,n=e.itemWidth,i=e.gutter,o=e.units;return"".concat((i+n)*t-i).concat(o)}},{key:"render",value:function(){var e=this.props,t=e.colCount,n=e.fastMatchesLoaded,i=e.gutter,o=e.handleClickRec,a=e.isSpotifyEnabled,r=e.isReactionsReceiveEnabled,l=e.isSwipeNoteReceiveEnabled,c=e.itemHeight,d=e.itemWidth,u=e.minRecDisplayCount,p=e.minRecsToFillGrid,h=e.onDislike,f=e.onEndReached,m=e.onLike,v=e.onMinRecCountDisplayed,g=e.padding,b=e.placeholderCount,O=e.recUsers,k=e.showTeasersGrid,y=e.showPlaceholders,S=e.trackEvent,E=e.units,T=this.state.disableScroll?{touchAction:"none"}:{};return s()(P.Fragment,{},void 0,R.a.createElement("div",{className:Object(C.a)("likesYou__scroller Sb(s) D(f) Jc(c) Animtf(l) Animfm(f) Animdur(.75s)",{"Animn($anim-green-flash)":this.state.flashAnimation,"Ovy(s) Ovsb(n) Ovs(touch)":!y}),ref:this.getRef,style:T},s()("div",{className:Object(C.a)("Pos(r)",{"D(f) Fld(c)":!O||!O.size}),style:{width:this.calculateWidth(),height:this.caculateTop()}},void 0,this.props.header,s()(qe,{colCount:t,fastMatchesLoaded:n,gutter:i,handleClickRec:o,isSpotifyEnabled:a,isReactionsReceiveEnabled:r,isSwipeNoteReceiveEnabled:l,itemHeight:c,itemWidth:d,minRecDisplayCount:u,minRecsToFillGrid:p,onDislike:h,onDragEnd:this.handleDragEnd,onDragStart:this.handleDragStart,onEndReached:f,onLike:m,onMinRecCountDisplayed:v,padding:g,placeholderCount:b,recUsers:O,scrollerScrollTop:this.state.scrollTop,showPlaceholders:y,showTeasersGrid:k,trackEvent:S,units:E}),this.renderScroller())))}}]),t})(P.PureComponent);k()(Ze,"defaultProps",{colCount:1,fastMatchesLoaded:!1,gutter:0,handleClickRec:ne.a,isSpotifyEnabled:!0,itemHeight:0,itemWidth:0,lastFastMatch:null,minRecDisplayCount:9,onEndReached:ne.a,onScroll:ne.a,padding:0,placeholderCount:30,preventScrollOnDrag:!1,scrollToTop:!1,showPlaceholders:!1,showTeasersGrid:!1,units:"px"});var Ve=Object(ge.a)(Ze),Xe=n(436),Ke=function(e){var t=e.className,n=e.hasSuperBoost,i=e.isBoosting,o=e.openModal,a=e.withGradient,r=void 0===a||a,l=Object(Xe.a)().formatMessage;if(!(n&&!i))return null;return s()("div",{className:Object(C.a)("CenterAlign W(100%) Py(8px) Pos(r) Fld(c)",t)},void 0,r&&s()("div",{className:Object(C.a)("StretchedBox Pe(n)","Op(.3) Bg($purple-top-fade-gradient)","Bdrsbend(16px) Bdrsbstart(16px)")}),s()("div",{className:"Fz($xs) Fw($medium) C($c-purple) Mt(12px)"},void 0,l({id:"Superboost.superBoostMoreViews"})),s()(X.a,{className:"Tt(u) My(12px) Miw(80%) Miw(350px)--l",theme:"purple",size:"large",onClick:function(){o(N.V,{props:{from:L.u,shouldShowBackToBoost:!1}})},i13nModel:{label:"SuperBoostEntry"}},void 0,l({id:"Superboost.superBoostNow"})))};var Qe,et={openModal:A.b},tt=Object(E.c)((function(e){return{hasSuperBoost:Object(_.I)(e),isBoosting:Object(F.d)(e)}}),et)(Object(P.memo)(Ke)),nt=n(1280);n(1018);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at={Desktop:{itemWidth:244,itemHeight:305,gutter:10,padding:27,units:"px",minRecDisplayCount:12},Tablet:{itemWidth:160,itemHeight:200,gutter:8,padding:10,units:"px",minRecDisplayCount:12},Mobile:{itemWidth:46,itemHeight:57.5,gutter:2.5,padding:2.5,units:"vw",minRecDisplayCount:9}},st=s()(T.a,{id:"TinderGold.zeroLikesTitle"}),rt=s()(tt,{withGradient:!1}),lt=s()(tt,{withGradient:!1}),ct=s()(tt,{}),dt=(function(e){function t(e){var n;return l()(this,t),n=p()(this,f()(t).call(this,e)),k()(v()(n),"onGridScroll",(function(e,t,i){n.setState({showNav:!t||e<20,scrollToTop:!1,isAtBottom:i},(function(){var e=!n.props.hasGold;i&&e&&n.launchGoldPaywall(L.n)}))})),k()(v()(n),"onLike",(function(e,t){n.handleSwipeAction(e,z.LIKE_STATUS,n.props.fastMatchLike,t)})),k()(v()(n),"onDislike",(function(e){n.handleSwipeAction(e,z.NOPE_STATUS,n.props.fastMatchDislike)})),k()(v()(n),"onSuperlike",(function(e){n.props.superlikesRemaining>0?n.handleSwipeAction(e,z.SUPERLIKE_STATUS,n.props.fastMatchSuperlike):n.props.openModal(N.T,{props:{handleAccept:function(e,t,i,o){n.props.purchaseAddToCart({productId:e,products:t,featuresList:i,from:o})},onStack:!1,from:L.L}})})),k()(v()(n),"launchGoldPaywall",(function(e){n.props.openModal(N.z,{props:{handleAccept:function(e,t,i,o){n.props.purchaseAddToCart({productId:e,products:t,featuresList:i,from:o})},onStack:!1,from:e,likesNum:n.props.likesYouCount}})})),k()(v()(n),"handleWindowResize",(function(){n.selfRef&&n.setState({width:n.selfRef.clientWidth,height:n.selfRef.clientHeight})})),k()(v()(n),"scrollToTop",(function(){n.setState({scrollToTop:!0})})),k()(v()(n),"getRef",(function(e){n.selfRef=e})),k()(v()(n),"handleClickRec",(function(e){e&&n.setState({currentOpenedRecProfile:e,showProfileRec:!0})})),k()(v()(n),"onProfileCardClose",(function(e,t){e&&(t!==(e.get("activePhotoIndex")||0)&&n.props.updateProfileEntityPhoto(e,t),n.setState({showProfileRec:!1}))})),k()(v()(n),"loadMoreRecs",(function(){var e=n.props,t=e.hasGold,i=e.fastMatchesNextPageToken,o=e.fastMatchesLoading;t&&i&&!o&&n.props.fetchLikesYouRecs(!0)})),k()(v()(n),"renderClickToAction",(function(e,t){var i=n.props,o=i.boostsRemaining,a=i.fastMatchesLoaded,r=i.isBoosting;return e?s()("div",{className:"Fld(c) B(24px) W(100%) CenterAlign Pos(a) M(a) Z(3)"},void 0,s()(X.a,{size:"large",theme:"gold",className:Object(C.a)(q,"Bxsh($bxsh-circle-btn)"),i13nModel:{label:"Get Gold",category:"LikesYou"},onClick:function(){return n.launchGoldPaywall(t?L.m:L.l)}},void 0,st)):a&&s()("div",{className:"Fld(c) B(24px) W(100%) CenterAlign Pos(a) M(a) Z(3)"},void 0,s()("div",{className:Object(K.b)()},void 0,s()(nt.a,{namespace:"tinder.boost.count",disabled:r,className:Object(C.a)("Z(1)",Object(K.a)(!0,"Bxsh($bxsh-circle-btn)")),front:s()(Q.a,{className:q,iconClassName:"Sq(36px) Sq(28px)--s",buttonClassName:"Z(2)"}),count:r?void 0:o,countColor:"C($c-purple)"})))})),k()(v()(n),"setHeaderOffset",(function(e){e&&n.setState({headerOffset:e.clientHeight})})),n.state={currentOpenedRecProfile:null,headerOffset:0,height:null,isAtBottom:!1,scrollToTop:!1,showNav:!0,showProfileRec:!1,width:null},n.resizeHandler=null,n}return b()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.hasGold?this.props.throttledFetchLikesYouRecs():this.props.throttledFetchLikesYouTeasers(),this.handleWindowResize(),this.resizeHandler=Object(w.b)("resize",this.handleWindowResize,{eventOptions:{passive:!0}})}},{key:"componentWillReceiveProps",value:function(e){this.props.fastMatches.size>0&&0===e.fastMatches.size&&this.handleLastCardSwiped()}},{key:"componentWillUnmount",value:function(){this.resizeHandler&&this.resizeHandler.unsubscribe(),this.resizeHandler=null,this.swipeTimeout&&(clearTimeout(this.swipeTimeout),this.swipeTimeout=null)}},{key:"calculateColCount",value:function(e){var t=e.itemWidth,n=e.gutter,i=e.padding;return this.state.width?Math.floor((this.state.width-2*i)/(t+n)):0}},{key:"calculateRowCount",value:function(e){var t=e.itemHeight,n=e.gutter,i=e.padding;return this.state.height?Math.ceil((this.state.height-i)/(t+n)):0}},{key:"handleSwipeAction",value:function(e,t,n,i){if(e){var o=this.state.showProfileRec?250+$.a+100:250;this.setState({showProfileRec:!1}),this.props.updateProfileEntityConfirmedStatus(e,t);var a={recUser:e};t===z.LIKE_STATUS&&i&&(a=ot({},a,{reactionsData:{likedContentId:i,likedContentType:"photo"}})),this.swipeTimeout=setTimeout((function(){return n(a)}),o)}}},{key:"handleLastCardSwiped",value:function(){x.a.push(Object(D.c)("matches"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.browser,i=t.os,a=t.fastMatches,r=t.fastMatchesLoaded,l=t.fastMatchesLoading,c=t.fastMatchesNextPageToken,d=t.fastMatchTeasers,u=t.fastMatchTeasersLoaded,p=t.fastMatchTeasersLoading,h=t.hasGold,f=t.isGoldHome,m=t.isSpotifyEnabled,v=t.isReactionsReceiveEnabled,g=t.isSwipeNoteReceiveEnabled,b=t.lastFastMatch,O=t.likesYouCount,k=t.likesYouCountIsRange,y=t.loggedInUserGender,S=t.loggedInUserJobs,E=t.loggedInUserSchools,T=t.trackEvent,w=this.state,x=w.currentOpenedRecProfile,j=w.scrollToTop,M=w.showNav,A=w.showProfileRec,B=w.width,N=!h,F=N?!d.size:!a.size,I=ot({browser:n,fastMatchesLoaded:r,fastMatchesLoading:l,handleClickRec:this.handleClickRec,isSpotifyEnabled:m,isReactionsReceiveEnabled:v,isSwipeNoteReceiveEnabled:g,lastFastMatch:b,onDislike:this.onDislike,onLike:this.onLike,onMinRecCountDisplayed:this.loadMoreRecs,onScroll:this.onGridScroll,os:i,reachedEndOfList:!c,recUsers:a,scrollToTop:j,setEndReached:this.loadMoreRecs,showPlaceholders:F,showTeasersGrid:N,trackEvent:T},N?{recUsers:d,fastMatchesLoaded:u,fastMatchesLoading:p,handleClickRec:function(){return e.launchGoldPaywall(L.o)}}:{}),_=ot({onClick:this.scrollToTop,likesYouCount:O,fastMatchesLoaded:r,likesYouCountIsRange:k},N?{recUsers:d,fastMatchesLoaded:u}:{}),U={backLinkUrl:f?Object(D.c)("goldHome"):Object(D.c)("likesYou"),className:Z,currentOpenedRecProfile:x,onProfileCardClose:this.onProfileCardClose,loggedInUserSchools:E,loggedInUserJobs:S,loggedInUserGender:y,onLike:this.onLike,onDislike:this.onDislike,onSuperlike:this.onSuperlike};return R.a.createElement("div",{className:Object(C.a)("Expand Bgc(#fff)",{"Pos(a)--s T(0)":!f,"no-padding D(f) Fld(c)":f,hideNav:!M}),ref:this.getRef},f?null:R.a.createElement(fe,_),A?null:this.renderClickToAction(N,F),B&&s()(P.Fragment,{},void 0,s()(V.a,{},void 0,R.a.createElement(Ve,o()({colCount:this.calculateColCount(at.Desktop),minRecsToFillGrid:this.calculateColCount(at.Desktop)*this.calculateRowCount(at.Desktop)},I,at.Desktop,{header:rt}))),s()(V.d,{},void 0,R.a.createElement(Ve,o()({colCount:this.calculateColCount(at.Tablet),minRecsToFillGrid:this.calculateColCount(at.Tablet)*this.calculateRowCount(at.Tablet)},I,at.Tablet,{header:lt}))),s()(V.b,{},void 0,R.a.createElement(Ve,o()({colCount:2,preventScrollOnDrag:!0},I,at.Mobile,{header:f?s()("div",{className:"Pos(st) Z(1) Bgc(#fff)",style:{top:"-".concat(this.state.headerOffset||0,"px")}},void 0,R.a.createElement("div",{className:"non-sticky",ref:function(t){return e.setHeaderOffset(t)}},ct),s()("div",{className:"sticky"},void 0,s()("div",{className:"Fz($ml)--ml Fz($m)--s Fw($bold) Px(24px) Py(12px) BdB Bdbc($c-divider) Pos(st)",onClick:this.scrollToTop},void 0,_.fastMatchesLoaded?s()(re.a,{count:O,isRange:k}):null))):null}))),A&&!N?R.a.createElement(ee.a,U):null))}}]),t})(P.PureComponent);k()(dt,"defaultProps",{fastMatchesNextPageToken:null,lastFastMatch:null,isGoldHome:!1,isSpotifyEnabled:!0});var ut={fastMatchLike:U.b,fastMatchDislike:U.a,fastMatchSuperlike:U.c,fetchLikesYouRecs:U.l,throttledFetchLikesYouRecs:U.t,throttledFetchLikesYouTeasers:U.u,trackEvent:H.a,updateProfileEntityPhoto:G.b,updateProfileEntityConfirmedStatus:G.a,openModal:A.b,purchaseAddToCart:B.r},pt=(Qe={},k()(Qe,M.g,"isSpotifyEnabled"),k()(Qe,M.d,"isReactionsReceiveEnabled"),k()(Qe,M.h,"isSwipeNoteReceiveEnabled"),Qe);t.default=S()([Object(j.a)(pt),Object(E.c)((function(e){return{boostsRemaining:Object(F.k)(e),browser:Object(I.a)(e),fastMatches:Object(W.d)(e),fastMatchesLoaded:Object(W.e)(e),fastMatchesLoading:Object(W.f)(e),fastMatchesNextPageToken:Object(W.g)(e),fastMatchTeasers:Object(W.a)(e),fastMatchTeasersLoaded:Object(W.b)(e),fastMatchTeasersLoading:Object(W.c)(e),hasGold:Object(_.w)(e),isBoosting:Object(F.d)(e),lastFastMatch:Object(W.i)(e),likesYouCount:Object(W.j)(e),likesYouCountIsRange:Object(W.k)(e),loggedInUserGender:Object(_.q)(e),loggedInUserJobs:Object(_.bb)(e),loggedInUserSchools:Object(_.zb)(e),os:Object(I.f)(e),superlikesRemaining:Object(_.Jb)(e)}}),ut)])(dt)}}]);